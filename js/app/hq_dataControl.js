var hq_queryUrl = "http://yunhq.sse.com.cn:32041";function checkBrowser(){var a=navigator.userAgent;if(a.indexOf("IE 8")>=0||a.indexOf("IE 7")>=0){return false}else{return true}}function checkStatus(a){if(a!=null&&a!=""){a=a.replace(/\s/ig,"");if(a!=null&&a!=""){a=a.substr(0,1);switch(a){case"S":a="\u5F00\u5E02\u524D";break;case"C":a="\u96C6\u5408\u7ADE\u4EF7";break;case"D":a="\u96C6\u5408\u7ADE\u4EF7\u7ED3\u675F";break;case"T":a="\u8FDE\u7EED\u7ADE\u4EF7";break;case"B":a="\u5348\u95F4\u4F11\u5E02";break;case"E":a="\u95ED\u5E02";break;case"P":a="\u505C\u724C";break;case"M":a="\u7194\u65AD(\u53EF\u6062\u590D)";break;case"N":a="\u7194\u65AD(\u81F3\u95ED\u5E02)";break}}}return a}function turnDateAddLine(a){return a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6,8)}function fn_bulletin(b){var a="http://www.sse.com.cn/js/common/stocks/new/"+b+".js?_="+Math.round(Math.random()*9999999);$("head").append("<script src='"+a+"'><\/script>");op_calendar({code:b,id:$(".conp_block_3 .sse_list_5 ul"),num:3});$.getScript(a,function(){$(".conp_block_2 .sse_list_1").html("");bulletinList({id:$(".conp_block_2 .sse_list_1"),codeMethod:"get_"+b+"()",code:b,num:5});$(".conp_block_1 .dt_table_1 .tdleft .title").html("--");$(".conp_block_1 .dt_table_1 .tdright .number2").html("--");$(".conp_block_1 .dt_table_1 .tdleft .number1").html(b);$(".conp_block_1 .dt_table_1 .tdright .number3").html("").removeClass().addClass("number3");hq_bulletin({code:b,c1:$(".conp_block_1 .dt_table_1 .tdleft .title"),c2:$(".conp_block_1 .dt_table_1 .tdright .number2"),c3:$(".conp_block_1 .dt_table_1 .tdleft .number1"),c4:$(".conp_block_1 .dt_table_1 .tdright .number3")});$(".download_and_feedback .modal_feedback").attr("target","_blank");$(".download_and_feedback .modal_feedback").attr("href","http://sns.sseinfo.com/company.do?stockcode="+b)})}function hq_bulletin(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,last,name,high,low,chg_rate,tradephase"},cache:false,success:function(b){var e=b.list;var d=e[0][6];a.c1.html(e[0][2]);a.c2.html(e[0][1].toFixed(2));a.c3.html(e[0][0]);if(d.replace(/\s/ig,"")=="P1"){a.c2.html("\u505C\u724C");a.c4.html("")}else{var c=e[0][5];if(c>0){a.c4.removeClass("down").addClass("up");a.c4.html("<i class='icons'>\uE093\uE094</i>"+c.toFixed(2)+"%")}else{a.c4.removeClass("up").addClass("down");a.c4.html("<i class='icons'>\uE093\uE094</i>"+c.toFixed(2)+"%")}}}})}function op_calendar(a){$.ajax({type:"POST",dataType:"jsonp",url:sseQueryURL+"commonSoaQuery.do",jsonp:"jsonCallBack",data:{isPagination:true,stockCode:a.code,order:"tradeBeginDate|desc",tradeBeginDate:"19700101",tradeEndDate:get_systemDate_global().replace(/\-/g,""),sqlId:"PL_SCRL_SCRLB","pageHelp.pageNo":1,"pageHelp.beginPage":1,"pageHelp.cacheSize":1,"pageHelp.endPage":1,"pageHelp.pageSize":5},cache:false,success:function(b){var e=b.result;var d=[];if(e!=null&&e!=""){if(e.length<a.num){a.num=e.length}for(var c=0;c<a.num;c++){d.push("<li title='"+e[c]["title"]+"'><span>"+turnDateAddLine(e[c]["tradeBeginDate"])+"</span>"+e[c]["bizTypeDesc"]+"<p>"+e[c]["title"]+"</p></li>")}}else{d.push("<li>\u65E0\u76F8\u5173\u6570\u636E</li>")}a.id.html(d.join(""));$(".conp_block_3 .sse_title_common_wrap .sse_title_common .hidden-xs").attr({"href":"/disclosure/dealinstruc/calendar/detail.shtml?_staDate=&_indexCode="+a.code,"target":"_blank"})}})}function bulletinList(obj){var _t=eval(obj.codeMethod);var _Arrbulletin=[];obj.num=_t.length>=obj.num?obj.num:_t.length;_Arrbulletin.push("<dl>");for(var i=0;i<obj.num;i++){var bulletin_file_url=_t[i]["bulletin_file_url"];var bulletin_title=_t[i]["bulletin_title"];var bulletin_date=_t[i]["bulletin_date"];_Arrbulletin.push("<dd data-time='"+bulletin_date+"'>");_Arrbulletin.push("<a href='http://static.sse.com.cn"+bulletin_file_url+"' title='"+bulletin_title+"'>"+bulletin_title+"</a>");_Arrbulletin.push("<a href='http://static.sse.com.cn"+bulletin_file_url+"' class='hidden-xs'></a>");_Arrbulletin.push("<span>"+bulletin_date+"</span>");_Arrbulletin.push("</dd>")}_Arrbulletin.push("</dl>");obj.id.html(_Arrbulletin.join(""));$(".conp_block_2 .sse_title_common_wrap .sse_title_common .hidden-xs").attr({"href":"/assortment/stock/list/info/announcement/index.shtml?productId="+obj.code,"target":"_blank"})}function convertDateToUTC(a){return Number(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()))}var dateConvert=function(f){var g=f.data;var b=f.open;var k=f.last;for(var h=0;h<g.line.length;h++){var c=g.line[h][0]+"";if(c.length<6){c="0"+c.substring(0,c.length-2)}else{c=c.substring(0,c.length-2)}var a=g.date+c;var l=a.substring(0,4);var j=a.substring(4,6);var m=a.substring(6,8);var e=a.substring(8,10);var d=a.substring(10);if(d!="00"){if(d.indexOf("0")!=0){d=parseInt(Number(d));if(d<=9){d="0"+d}}else{d=d.substring(1);d=parseInt(Number(d));if(d<=9){d="0"+d}}}g.line[h][0]=l+j+m+fn_hour(e)+d}return g};var fn_hour=function(a){a=a+"";if(a.indexOf("0")!=0){a=parseInt(Number(a)-8);if(a<=9){a="0"+a}}else{a=a.substring(1);a=parseInt(Number(a)-8);if(a<=9){a="0"+a}}return a};function judgmType(k){var g=["600","601","603"];var f=["900"];var b=["51","50"];var e=["009","010","129","110","126","019"];var j=["201","204","203"];var c=["8999"];
var h=k.substring(0,3);for(var d=0;d<g.length;d++){if(g[d]==h){return"astock"}}for(var d=0;d<f.length;d++){if(f[d]==h){return"bstock"}}for(var d=0;d<b.length;d++){var l=k.substring(0,2);if(b[d]==l){return"fund"}}for(var d=0;d<e.length;d++){if(e[d]==h){return"bond"}}for(var d=0;d<c.length;d++){if(k.substring(0,2)=="00"){var a=k.substring(2);if(Number(c[d])>=Number(a)){return"index"}}}for(var d=0;d<j.length;d++){if(j[d]==h){return"huigou"}}return"astock"}function ajaxGetMarketTabsInit(){iniPage(1,0);$(".tabbable .nav-tabs li a").click(function(){var a=$(this).attr("href").substring(1).split("-")[0];if(a=="ajaxGetShfiTab"){windowOpen("http://bond.sse.com.cn/fisp/fixed/info/info.html")}else{if(a=="ajaxGetBondTab"){iniPage(1,0)}}});$("#tableData_ajaxGetMarketTabs .mobile-page button").click(function(){if(!$(this).hasClass("next-page")){var a=$("#tableData_ajaxGetMarketTabs .pagination li:first a");if(typeof(a.attr("ipn"))!="undefined"){iniPage(a.attr("ipn"),a.attr("page"));pageNav.go({id:$("#tableData_ajaxGetMarketTabs .pagination"),method:iniPage,p:Number(a.attr("ipn")),pn:Number(a.attr("page"))})}}else{var b=$("#tableData_ajaxGetMarketTabs .pagination li:last a");if(typeof(b.attr("ipn"))!="undefined"){iniPage(b.attr("ipn"),b.attr("page"));pageNav.go({id:$("#tableData_ajaxGetMarketTabs .pagination"),method:iniPage,p:Number(b.attr("ipn")),pn:Number(b.attr("page"))})}}})}function iniPage(d,a){var b=sitePageSize,c=0;if(d!=null){c=d}$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/exchange/bond",jsonp:"callback",data:{select:"code"},cache:false,success:function(f){var k=f.list;var j=new Array();var l=0;for(var h=0;h<k.length;h++){var g=k[h];if(122000<=g&&g<=122499){j[l]=g;l++}}var e=0;if(j.length%b==0){e=j.length/b}else{e=parseInt(j.length/b)+1}ajaxGetBondTab({id:$("#tableData_ajaxGetMarketTabs .search_MarketTabs"),dateid:$("#tableData_ajaxGetMarketTabs .sse_table_title2 p"),data:j,total:j.length,pageIndex:c,pageNum:b,pageCount:e,isPage:true})}})}function ajaxGetBondTab(e){var a=Number((e.pageIndex-1)*e.pageNum);var c=Number((e.pageIndex-1)*e.pageNum+e.pageNum);var d="";for(var b=a;b<c;b++){if(b<c-1){d+=e.data[b]+"_"}else{d+=e.data[b]}}$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+d,jsonp:"callback",data:{select:"code,name,open,high,low,last,prev_close,chg_rate,volume,amount,tradephase,change,amp_rate",order:"code,ase"},cache:false,success:function(l){var f=""+l.time;if(f.length==5){f="0"+l.time}var g=l.date+""+f;g=g.substring(0,4)+"-"+g.substring(4,6)+"-"+g.substring(6,8)+" "+g.substring(8,10)+":"+g.substring(10,12)+":"+g.substring(12);e.dateid.parent().show();e.dateid.html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+g);var p=l.list;var t=[];t.push("<thead><tr>"+"<th>\u8BC1\u5238\u4EE3\u7801</th>"+"<th>\u8BC1\u5238\u7B80\u79F0</th>"+"<th>\u6700\u65B0</th>"+"<th>\u6DA8\u8DCC\u5E45</th>"+"<th>\u6DA8\u8DCC</th>"+"<th>\u6210\u4EA4\u91CF(\u624B)</th>"+"<th>\u6210\u4EA4\u989D(\u4E07\u5143)</th>"+"<th>\u524D\u6536</th>"+"<th>\u5F00\u76D8</th>"+"<th>\u6700\u9AD8</th>"+"<th>\u6700\u4F4E</th>"+"<th>\u632F\u5E45</th>"+"</tr></thead>");for(var v=0;v<p.length;v++){var x=Number(p[v][0]);if(x>=122000&&x<=123499){var q=p[v][10];if(q.replace(/\s/ig,"")=="C1"){e.dateid.html("\u96C6\u5408\u7ADE\u4EF7\u4E2D \u66F4\u65B0\u65F6\u95F4\uFF1A "+g)}t.push("<tr>");t.push("<td>"+p[v][0]+"</td>");t.push("<td>"+p[v][1]+"</td>");var h="<td style='text-align: right;"+Comparative(p[v][5],p[v][6])+"'>"+p[v][5].toFixed(2)+"</td>";var k="<td style='text-align: right;"+Comparative(p[v][7],0)+"'>"+p[v][7].toFixed(2)+"%</td>";var w="<td style='text-align: right;"+Comparative(p[v][7],0)+"'>"+p[v][11].toFixed(2)+"</td>";var m="<td style='text-align: right;'>"+(p[v][8]/100).toFixed(0)+"</td>";var u="<td style='text-align: right;'>"+(p[v][9]/10000).toFixed(2)+"</td>";var s="<td style='text-align: right;'>"+p[v][6].toFixed(2)+"</td>";var o="<td style='text-align: right;"+Comparative(p[v][2],p[v][6])+"'>"+p[v][2].toFixed(2)+"</td>";var j="<td style='text-align: right;"+Comparative(p[v][3],p[v][6])+"'>"+p[v][3].toFixed(2)+"</td>";var n="<td style='text-align: right;"+Comparative(p[v][4],p[v][6])+"'>"+p[v][4].toFixed(2)+"</td>";var r="<td style='text-align: right;"+Comparative(p[v][4],p[v][6])+"'>"+p[v][12].toFixed(2)+"\uFF05</td>";if(p[v][5].toFixed(2)==0){h="<td style='text-align: right;'>\u6682\u65E0\u6210\u4EA4</td>";k="<td style='text-align: right;'>--</td>";w="<td style='text-align: right;'>--</td>";m="<td style='text-align: right;'>--</td>";u="<td style='text-align: right;'>--</td>";s="<td style='text-align: right;'>--</td>";o="<td style='text-align: right;'>--</td>";j="<td style='text-align: right;'>--</td>";n="<td style='text-align: right;'>--</td>";r="<td style='text-align: right;'>--</td>"}if(q.replace(/\s/ig,"")=="P1"){h="<td style='text-align: right;'>\u505C\u724C</td>";k="<td style='text-align: right;'>--</td>";w="<td style='text-align: right;'>--</td>";m="<td style='text-align: right;'>--</td>";u="<td style='text-align: right;'>--</td>";s="<td style='text-align: right;'>--</td>";o="<td style='text-align: right;'>--</td>";j="<td style='text-align: right;'>--</td>";n="<td style='text-align: right;'>--</td>";r="<td style='text-align: right;'>--</td>"}t.push(h);t.push(k);t.push(w);t.push(m);
t.push(u);t.push(s);t.push(o);t.push(j);t.push(n);t.push(r);t.push("</tr>")}}e.id.html(t.join(""));if(e.isPage){if(e.pageCount>1){pageNav.go({id:$("#tableData_ajaxGetMarketTabs .pagination"),method:iniPage,p:e.pageIndex,pn:e.pageCount});$(".pagination").parent().parent().show();$("#tableData_ajaxGetMarketTabs .page-con-table").show()}}}})}var _MarketTabOrder="",_orderIndex="";function marketSearchInit(){_MarketTabOrder="";_orderIndex="";var a=sitePageSize,b=1;ajaxGetMarketTab({code:"equity",id:$("#tableData_marketTabList .search_tabList"),dateid:$("#tableData_marketTabList .sse_table_title2 p"),tbaName:"gp",begin:Number(b*a-a),end:Number(a*b),page:Number(b),pageNum:Number(a),order:"",orderIndex:"",isPage:true});$(".tabbable .nav-tabs li a").click(function(){_MarketTabOrder="";_orderIndex="";if($(this).attr("href").indexOf("link")>0){window.location.href="/assortment/options/price/"}else{var c=$(this).attr("href").substring(1).split("-")[0];var d=$(this).attr("href").substring(1).split("-")[1];ajaxGetMarketTab({code:c,id:$("#tableData_marketTabList .search_tabList"),dateid:$("#tableData_marketTabList .sse_table_title2 p"),tbaName:d,begin:Number(b*a-a),end:Number(a*b),page:Number(b),pageNum:Number(a),order:"",orderIndex:_orderIndex,isPage:true})}});$("#tableData_marketTabList .mobile-page button").click(function(){if(!$(this).hasClass("next-page")){var c=$("#tableData_marketTabList .pagination li:first a");if(typeof(c.attr("ipn"))!="undefined"){marketInitPage(c.attr("ipn"),c.attr("page"));pageNav.go({id:$("#tableData_marketTabList .pagination"),method:marketInitPage,p:Number(c.attr("ipn")),pn:Number(c.attr("page"))})}}else{var d=$("#tableData_marketTabList .pagination li:last a");if(typeof(d.attr("ipn"))!="undefined"){marketInitPage(d.attr("ipn"),d.attr("page"));pageNav.go({id:$("#tableData_marketTabList .pagination"),method:marketInitPage,p:Number(d.attr("ipn")),pn:Number(d.attr("page"))})}}})}function marketInitPage(f,a){var c=sitePageSize,d=1;var b="equity";var e="gp";$(".tabbable .nav-tabs li").each(function(){if($(this).hasClass("active")){b=$(this).find("a").attr("href").substring(1).split("-")[0];e=$(this).find("a").attr("href").substring(1).split("-")[1]}});ajaxGetMarketTab({code:b,id:$("#tableData_marketTabList .search_tabList"),dateid:$("#tableData_marketTabList .sse_table_title2 p"),tbaName:e,begin:Number(f*c-c),end:Number(c*f),page:Number(f),pageNum:Number(c),order:_MarketTabOrder,orderIndex:_orderIndex,isPage:false})}function refTableList(){var b=$("#tableData_marketTabList .pagination li:last a");var a=$("#tableData_marketTabList .pagination li .active").attr("page");if(typeof(b.attr("ipn"))!="undefined"){marketInitPage(a,b.attr("page"));pageNav.go({id:$("#tableData_marketTabList .pagination"),method:marketInitPage,p:Number(a),pn:Number(b.attr("page"))})}}function ajaxGetMarketTab(a){if(_MarketTabOrder!=""){a.order=_MarketTabOrder}$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/exchange/"+a.code,jsonp:"callback",data:{select:"code,name,open,high,low,last,prev_close,chg_rate,volume,amount,tradephase,change,amp_rate",order:a.order,begin:a.begin,end:a.end},cache:false,success:function(g){showloading();var b=""+g.time;if(b.length==5){b="0"+g.time}var c=g.date+""+b;c=c.substring(0,4)+"-"+c.substring(4,6)+"-"+c.substring(6,8)+" "+c.substring(8,10)+":"+c.substring(10,12)+":"+c.substring(12);a.dateid.parent().show();a.dateid.html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+c+"<a href='javascript:;' class='download-export refTable'>\u5237\u65B0</a>");var l=g.list;var s=[];s.push("<thead><tr>"+"<th>\u5E8F\u53F7</th>"+"<th><a href='javascript:;' order='code' >\u8BC1\u5238\u4EE3\u7801</a></th>"+"<th><a href='javascript:;' order='name' >\u8BC1\u5238\u7B80\u79F0</a></th>"+"<th><a href='javascript:;' order='last' >\u6700\u65B0</a></th>"+"<th><a href='javascript:;' order='chg_rate' >\u6DA8\u8DCC\u5E45</a></th>"+"<th><a href='javascript:;' order='change' >\u6DA8\u8DCC</a></th>"+"<th><a href='javascript:;' order='volume' >\u6210\u4EA4\u91CF(\u624B)</a></th>"+"<th><a href='javascript:;' order='amount' >\u6210\u4EA4\u989D("+(a.tbaName=="zs"?"\u4EBF\u5143":"\u4E07\u5143")+")</a></th>"+"<th><a href='javascript:;' order='prev_close' >\u524D\u6536</a></th>"+"<th><a href='javascript:;' order='open' >\u5F00\u76D8</a></th>"+"<th><a href='javascript:;' order='high' >\u6700\u9AD8</a></th>"+"<th><a href='javascript:;' order='low' >\u6700\u4F4E</a></th>"+"<th><a href='javascript:;' order='amp_rate' >\u632F\u5E45</a></th>"+"</tr></thead>");for(var u=0;u<l.length;u++){var o=l[u][10];if(o.replace(/\s/ig,"")=="C1"){a.dateid.html("\u96C6\u5408\u7ADE\u4EF7\u4E2D \u66F4\u65B0\u65F6\u95F4\uFF1A "+c)}var n="";if(a.tbaName=="gp"){n="/assortment/stock/list/info/company/index.shtml?COMPANY_CODE="+l[u][0]}else{if(a.tbaName=="jj"){n="/assortment/fund/list/etfinfo/basic/index.shtml?FUNDID="+l[u][0]}else{if(a.tbaName=="zq"){n="/assortment/bonds/list/info/basic/index.shtml?BOND_CODE="+l[u][0]+"&TYPE=y"}else{if(a.tbaName=="zs"){n="/market/sseindex/indexlist/basic/index.shtml?COMPANY_CODE="+l[u][0]}}}}s.push("<tr>");s.push("<td>"+(u+((a.page-1)*a.pageNum)+1)+"</td>");s.push("<td><a href='"+n+"'>"+l[u][0]+"</a></td>");s.push("<td>"+l[u][1]+"</td>");var d="<td style='text-align: right;"+Comparative(l[u][5],l[u][6])+"'>"+l[u][5].toFixed(2)+"</td>";
var f="<td style='text-align: right;"+Comparative(l[u][7],0)+"'>"+l[u][7].toFixed(2)+"%</td>";var v="<td style='text-align: right;"+Comparative(l[u][7],0)+"'>"+l[u][11].toFixed(2)+"</td>";var h="<td style='text-align: right;'>"+(l[u][8]/100).toFixed(0)+"</td>";var t="<td style='text-align: right;'>"+(l[u][9]/10000).toFixed(2)+"</td>";var q="<td style='text-align: right;'>"+l[u][6].toFixed(2)+"</td>";var k="<td style='text-align: right;"+Comparative(l[u][2],l[u][6])+"'>"+l[u][2].toFixed(2)+"</td>";var e="<td style='text-align: right;"+Comparative(l[u][3],l[u][6])+"'>"+l[u][3].toFixed(2)+"</td>";var j="<td style='text-align: right;"+Comparative(l[u][4],l[u][6])+"'>"+l[u][4].toFixed(2)+"</td>";var p="<td style='text-align: right;'>"+l[u][12].toFixed(2)+"\uFF05</td>";if(a.tbaName=="gp"){if(l[u][5].toFixed(2)==0){d="<td style='text-align: right;'>\u6682\u65E0\u6210\u4EA4</td>";f="<td style='text-align: right;'>--</td>";v="<td style='text-align: right;'>--</td>";h="<td style='text-align: right;'>--</td>";t="<td style='text-align: right;'>--</td>";q="<td style='text-align: right;'>"+l[u][6].toFixed(2)+"</td>";k="<td style='text-align: right;'>--</td>";e="<td style='text-align: right;'>--</td>";j="<td style='text-align: right;'>--</td>";p="<td style='text-align: right;'>--</td>"}}else{if(a.tbaName=="jj"){d="<td style='text-align: right;"+Comparative(l[u][5],l[u][6])+"'>"+l[u][5].toFixed(3)+"</td>";v="<td style='text-align: right;"+Comparative(l[u][7],0)+"'>"+l[u][11].toFixed(3)+"</td>";q="<td style='text-align: right;'>"+l[u][6].toFixed(3)+"</td>";k="<td style='text-align: right;"+Comparative(l[u][2],l[u][6])+"'>"+l[u][2].toFixed(3)+"</td>";e="<td style='text-align: right;"+Comparative(l[u][3],l[u][6])+"'>"+l[u][3].toFixed(3)+"</td>";j="<td style='text-align: right;"+Comparative(l[u][4],l[u][6])+"'>"+l[u][4].toFixed(3)+"</td>";t="<td style='text-align: right;'>"+(l[u][9]/10000).toFixed(2)+"</td>";if(l[u][5].toFixed(2)==0){d="<td style='text-align: right;'>\u6682\u65E0\u6210\u4EA4</td>";f="<td style='text-align: right;'>--</td>";v="<td style='text-align: right;'>--</td>";h="<td style='text-align: right;'>--</td>";t="<td style='text-align: right;'>--</td>";q="<td style='text-align: right;'>"+l[u][6].toFixed(2)+"</td>";k="<td style='text-align: right;'>--</td>";e="<td style='text-align: right;'>--</td>";j="<td style='text-align: right;'>--</td>";p="<td style='text-align: right;'>--</td>"}}else{if(a.tbaName=="zq"){if(l[u][5].toFixed(2)==0){d="<td style='text-align: right;'>\u6682\u65E0\u6210\u4EA4</td>";f="<td style='text-align: right;'>--</td>";v="<td style='text-align: right;'>--</td>";h="<td style='text-align: right;'>--</td>";t="<td style='text-align: right;'>--</td>";q="<td style='text-align: right;'>"+l[u][6].toFixed(2)+"</td>";k="<td style='text-align: right;'>--</td>";e="<td style='text-align: right;'>--</td>";j="<td style='text-align: right;'>--</td>";p="<td style='text-align: right;'>--</td>"}}else{if(a.tbaName=="zs"){h="<td style='text-align: right;'>"+l[u][8]+"</td>";t="<td style='text-align: right;'>"+(l[u][9]/100000000).toFixed(2)+"</td>"}}}}if(o.replace(/\s/ig,"")=="P1"){d="<td style='text-align: right;'>\u505C\u724C</td>";f="<td style='text-align: right;'>--</td>";v="<td style='text-align: right;'>--</td>";h="<td style='text-align: right;'>--</td>";t="<td style='text-align: right;'>--</td>";q="<td style='text-align: right;'>--</td>";k="<td style='text-align: right;'>--</td>";e="<td style='text-align: right;'>--</td>";j="<td style='text-align: right;'>--</td>";p="<td style='text-align: right;'>--</td>"}s.push(d);s.push(f);s.push(v);s.push(h);s.push(t);s.push(q);s.push(k);s.push(e);s.push(j);s.push(p);s.push("</tr>")}a.id.html(s.join(""));if(a.orderIndex!=""){$("#tableData_marketTabList .search_tabList tr th a").each(function(){if($(this).text()==a.orderIndex){var x=a.order;if(x.indexOf(",")<0){$(this).attr("order",x+",ase");$(this).parent().append('<i class="fgrey"><span style="color: #347BB7;" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span></i>')}else{$(this).attr("order",x.substring(0,x.indexOf(",")));$(this).parent().append('<i class="fgrey"><span style="color: #347BB7;" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span></i>')}}})}if(a.isPage){var m=a.pageNum;var r=g.total;var w=r/m;if(r%m>0){w=parseInt(r/m)+1}if(w>1){pageNav.go({id:$("#tableData_marketTabList .pagination"),method:marketInitPage,p:1,pn:w});$(".pagination").parent().parent().show();$("#tableData_marketTabList .page-con-table").show()}}$("#tableData_marketTabList .search_tabList tr th a").click(function(){_MarketTabOrder=$(this).attr("order");_orderIndex=$(this).text();ajaxGetMarketTab({code:a.code,id:$("#tableData_marketTabList .search_tabList"),dateid:$("#tableData_marketTabList .sse_table_title2 p"),begin:a.begin,end:a.end,pageNum:a.pageNum,page:a.page,tbaName:a.tbaName,order:$(this).attr("order"),orderIndex:$(this).text(),isPage:false})});a.dateid.find(".refTable").click(function(){refTableList()});hideloading()}})}function delayInit(){var a=getValue("COMPANY_CODE");if(a==""){a=getValue("FUNDID");
if(a==""){a=getValue("BOND_CODE")}}if(!checkBrowser()){$(".delayAjax_hq #market_ticker").html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 16px;">\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301HTML5\u884C\u60C5<br/>\u8BF7\u4F7F\u7528IE9\u53CA\u4EE5\u4E0A\u7248\u672C\u6D4F\u89C8\u5668</span></center>')}delayInitMethod({id:$(".delayAjax_hq #market_ticker"),detId:$(".delayAjax_hq #pad01"),code:a})}function delayInitMethod(b){var a=judgmType(b.code);switch(a){case"astock":delay_snapAjax({id:b.id,detId:b.detId,code:b.code});break;case"bstock":delay_snapAjax({id:b.id,detId:b.detId,code:b.code});break;case"fund":delay_snapAjax_jj({id:b.id,detId:b.detId,code:b.code});break;case"bond":delay_snapAjax({id:b.id,detId:b.detId,code:b.code});break;case"index":delay_snapAjax_zs({id:b.id,detId:b.detId,code:b.code});break;case"huigou":delay_snapAjax({id:b.id,detId:b.detId,code:b.code});break}}function delay_snapAjax_jj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+a.code,jsonp:"callback",data:{select:"name,last,chg_rate,change,open,prev_close,high,low,tradephase"},cache:false,success:function(c){var q=c.code;var n=[];var k=c.snap;var h;var o=k[0];var g=k[1].toFixed(3);var e=k[5];var p=k[3];var j=k[2].toFixed(2)+"";var b=k[6];var r=k[7];var d=k[4];var m=k[8];var f;function l(s){if(s>k[5]){f="col_red"}else{if(s<k[5]){f="col_green"}else{f="col_color"}}return("<span class="+f+">"+s+"</span>")}if(e!=g){if(p>0){p="+"+p;f="col_red"}else{f="col_green"}}else{classs="col_color"}n.push("<table><tr class='tr_a'><td class='td_a'>"+q+"</td><td class='td_b'>"+o+"</td></tr><tr class='tr_b'><td class='td_a' rowspan='2'>"+l(g)+"</td><td class='td_b "+f+"'>"+p+"</td></tr><tr class='tr_c'><td class='"+f+"'>"+j+"%</td></tr></table>");a.detId.html(n.join(""));if(c.snap.length<1){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(m.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(m.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){delay_ajax_jj({id:a.id,code:q,last:g,codeName:o,open:d,high:b,low:r,prev_close:e})}}}}})}function delay_ajax_jj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.html("<div class='chart_container'></div>");return}$(".delayAjax_hq .right").remove(".sse_table_title2").append('<div class="sse_table_title2"><p>'+turnDateAddLine(G.date+"")+"</p></div>");Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,1,20,50],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;
var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:true,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:5,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:1,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"area",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function delay_snapAjax(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+a.code,jsonp:"callback",data:{select:"name,last,chg_rate,change,open,prev_close,high,low,tradephase"},cache:false,success:function(c){var q=c.code;var n=[];var k=c.snap;var h;var o=k[0];var g=k[1];var e=k[5];var p=k[3];var j=k[2].toFixed(2)+"";var b=k[6];var r=k[7];var d=k[4];var m=k[8];var f;function l(s){if(s>k[5]){f="col_red"}else{if(s<k[5]){f="col_green"}else{f="col_color"}}return("<span class="+f+">"+s+"</span>")}if(e!=g){if(p>0){p="+"+p;f="col_red"}else{f="col_green"}}else{classs="col_color"}n.push("<table><tr class='tr_a'><td class='td_a'>"+q+"</td><td class='td_b'>"+o+"</td></tr><tr class='tr_b'><td class='td_a' rowspan='2'>"+l(g)+"</td><td class='td_b "+f+"'>"+p+"</td></tr><tr class='tr_c'><td class='"+f+"'>"+j+"%</td></tr></table>");a.detId.html(n.join(""));if(c.snap.length<1){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(m.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(m.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){delay_ajax({id:a.id,code:q,last:g,codeName:o,open:d,high:b,low:r,prev_close:e})}}}}})}function delay_ajax(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.html("<div class='chart_container'></div>");return}$(".delayAjax_hq .right").remove(".sse_table_title2").append('<div class="sse_table_title2"><p>'+turnDateAddLine(G.date+"")+"</p></div>");Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return
}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,1,20,50],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:true,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:5,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:1,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"area",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function delay_snapAjax_zs(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+a.code,jsonp:"callback",data:{select:"name,last,chg_rate,change,open,prev_close,high,low,tradephase"},cache:false,success:function(c){var q=c.code;var n=[];var k=c.snap;var h;var o=k[0];var g=k[1];var e=k[5];var p=k[3];var j=k[2].toFixed(2)+"";var b=k[6];var r=k[7];var d=k[4];var m=k[8];var f;function l(s){if(s>k[5]){f="col_red"}else{if(s<k[5]){f="col_green"}else{f="col_color"}}return("<span class="+f+">"+s+"</span>")}if(e!=g){if(p>0){p="+"+p;f="col_red"}else{f="col_green"}}else{classs="col_color"}n.push("<table><tr class='tr_a'><td class='td_a'>"+q+"</td><td class='td_b'>"+o+"</td></tr><tr class='tr_b'><td class='td_a' rowspan='2'>"+l(g)+"</td><td class='td_b "+f+"'>"+p+"</td></tr><tr class='tr_c'><td class='"+f+"'>"+j+"%</td></tr></table>");
a.detId.html(n.join(""));if(c.snap.length<1){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(m.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(m.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:80px;"><span class="nal" style="color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){delay_ajax_zs({id:a.id,code:q,last:g,codeName:o,open:d,high:b,low:r,prev_close:e})}}}}})}function delay_ajax_zs(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.html("<div class='chart_container'></div>");return}$(".delayAjax_hq .right").remove(".sse_table_title2").append('<div class="sse_table_title2"><p>'+turnDateAddLine(G.date+"")+"</p></div>");Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,1,20,55],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:true,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];
return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:5,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:1,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"area",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function marketLineIni(){var a=true;marketLineIniMethod(a);$(".search_market_L #marketLine").click(function(){a=true;marketLineIniMethod(a)});$(".search_market_L #marketKline").click(function(){a=false;marketLineIniMethod(a)});$(".search_market_L #inputCode").keydown(function(b){if(b.which==13){a=true;marketLineIniMethod(a)}});if(!checkBrowser()){$("#market_ticker").html("<center style='margin-top:35%'><span class='nal' style='color: #ccc;'>\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301HTML5\u884C\u60C5<br/>\u8BF7\u4F7F\u7528IE9\u53CA\u4EE5\u4E0A\u7248\u672C\u6D4F\u89C8\u5668</span></center>")}$(document).keydown(function(b){if(b.which==13){a=true;marketLineIniMethod(a)}});window.setInterval(function(){marketLineIniMethod(a)},30000)}function marketLineIniMethod(b){var a=judgmType($(".search_market_L #inputCode").val());switch(a){case"astock":market_snapAjax($(".search_market_L #inputCode").val(),b);break;case"bstock":market_snapAjax_qq($(".search_market_L #inputCode").val(),b);break;case"fund":market_snapAjax_jj($(".search_market_L #inputCode").val(),b);break;case"bond":market_snapAjax_zq($(".search_market_L #inputCode").val(),b);break;case"index":market_snapAjax_zs($(".search_market_L #inputCode").val(),b);break;case"huigou":market_snapAjax_hg($(".search_market_L #inputCode").val(),b);break}}function market_snapAjax(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+b,jsonp:"callback",data:{select:"name,last,chg_rate,change,amount,volume,open,prev_close,ask,bid,high,low,tradephase"},cache:false,success:function(e){var u=e.code;var s=[];var x=[];var B=[];var q=e.snap;var n=e.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var d=e.time+"";var y=d.substring(0,d.length-4)+":"+d.substring(d.length-4,d.length-2);var w;var r=q[0];var h=q[1];var t=q[7];var C=q[3];var o=q[2].toFixed(2)+"";var z=q[4];var v=q[5];var m=q[8];var p=q[9];var c=q[10];var g=q[11];var f=q[6];var k=q[12];z=z/10000;var A;function j(D){if(D>q[7]){A="col_red"}else{if(D<q[7]){A="col_green"}else{A="col_color"}}return("<span class='first_span "+A+"''>"+D+"</span>")}if(t!=h){if(C>0){C="+"+C;A="col_red"}else{A="col_green"}}else{classs="col_color"}s.push("<table cellspacing='0' cellpadding='0'><tr class='first_tr'><td class='first_td'><h1>"+u+"</h1></td><td class='last_td'><h1>"+r+"</h1></td></tr><tr><td class='first_td' rowspan=2><h2>"+j(h.toFixed(2))+"</h2></td><td class='last_td'><h3 class='"+A+"'>"+C+"</h3></td></tr><tr><td class='last_td'><h3 class='"+A+"'>"+o+"%</h3></td></tr></table>");x.push("<ul class='mm5'><li>\u5356\u4E94"+j(m[8].toFixed(2))+"<span class='last_span'>"+Math.round(m[9]/100)+"</span></li><li>\u5356\u56DB"+j(m[6].toFixed(2))+"<span class='last_span'>"+Math.round(m[7]/100)+"</span></li><li>\u5356\u4E09"+j(m[4].toFixed(2))+"<span class='last_span'>"+Math.round(m[5]/100)+"</span></li><li>\u5356\u4E8C"+j(m[2].toFixed(2))+"<span class='last_span'>"+Math.round(m[3]/100)+"</span></li><li class='last_li'>\u5356\u4E00"+j(m[0].toFixed(2))+"<span class='last_span'>"+Math.round(m[1]/100)+"</span></li></ul>"+"<ul class='m5'><li class='first_li'>\u4E70\u4E00"+j(p[0].toFixed(2))+"<span class='last_span'>"+Math.round(p[1]/100)+"</span></li><li>\u4E70\u4E8C"+j(p[2].toFixed(2))+"<span class='last_span'>"+Math.round(p[3]/100)+"</span></li><li>\u4E70\u4E09"+j(p[4].toFixed(2))+"<span class='last_span'>"+Math.round(p[5]/100)+"</span></li><li>\u4E70\u56DB"+j(p[6].toFixed(2))+"<span class='last_span'>"+Math.round(p[7]/100)+"</span></li><li>\u4E70\u4E94"+j(p[8].toFixed(2))+"<span class='last_span'>"+Math.round(p[9]/100)+"</span></li></ul>");B.push("<table><tr><td class='td_a'>\u6628\u6536</td><td class='td_b' style='color:#999;'>"+t.toFixed(2)+"</td><td class='td_c'>\u6700\u9AD8</td><td class='td_d'>"+j(c.toFixed(2))+"</td></tr><tr><td class='td_a'>\u5F00\u76D8</td><td class='td_b'>"+j(f.toFixed(2))+"</td><td class='td_c'>\u6700\u4F4E</td><td class='td_d'>"+j(g.toFixed(2))+"</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u91CF</td><td class='td_b' colspan='2' style='color:#999;'>"+(v/100).toFixed(0)+" \u624B</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u989D</td><td class='td_b' colspan='2' style='color:#999;'>"+z.toFixed(0)+" \u4E07\u5143</td></tr>"+"<tr><td class='td_a'>\u65F6\u95F4</td><td class='td_b' colspan='3' style='color:#999;'>"+l+" "+y+"</td></tr>"+"<tr><td class='td_a' colspan='2'>\u4EA4\u6613\u72B6\u6001</td><td class='td_b' colspan='2' style='color:#999;'>"+checkStatus(k)+"</td></tr></table>");$("#pad01").html(s.join(""));$("#pad02").html(x.join(""));
$("#pad03").html(B.join(""));if(a){if(e.snap.length<1){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(k.replace(/\s/ig,"")=="P1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){market_ajax({id:$("#market_ticker"),code:u,last:h,codeName:r,open:f,high:c,low:g,prev_close:t})}}}}else{if(checkBrowser()){kLinedaykAjax(u)}}}})}function kLinedaykAjax(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/dayk/"+a,jsonp:"callback",data:{select:"date,open,high,low,close,volume",begin:-300,end:-1},cache:false,success:function(b){kLineshow(b)}})}function kLineshow(f){var h=f.code;f=f.kline;var d=[],e=[],g=f.length;for(i=0;i<g;i++){var b=f[i][0];b=getDateUTCOrNot(b,true);d.push([b,f[i][1],f[i][2],f[i][3],f[i][4]]);e.push([b,f[i][5]])}var a=[["day",[1]]];var c=Highcharts.seriesTypes.column.prototype.drawPoints;Highcharts.seriesTypes.column.prototype.drawPoints=function(){var q=Highcharts.merge,m=this,o=this.chart,n=m.points,l=n.length;while(l--){var j=o.series[0].points[l];if(j.open!=undefined&&j.close!=undefined){var k=(j.open<j.close)?"#DD2200":"#33AA11";var p=q(m.pointAttr);p[""].fill=k;p.hover.fill=Highcharts.Color(k).brighten(0.3).get();p.select.fill=k}else{var p=q(m.pointAttr)}n[l].pointAttr=p}c.call(this)};Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"\u81F3"}});$("#market_ticker").highcharts("StockChart",{chart:{margin:[15,15,25,52],spacing:[0,0,15,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,backgroundColor:0},tooltip:{valueDecinale:2},plotOptions:{series:{animation:false},candlestick:{upColor:"#dd2200",upLineColor:"#dd2200",color:"#33aa11",lineColor:"#33aa11"}},rangeSelector:{buttons:[{type:"day",count:100,text:"\u4E09\u6708"},{type:"week",count:26,text:"\u534A\u5E74"},{type:"month",count:12,text:"\u4E00\u5E74"}],inputBoxWidth:90,inputDateFormat:"%Y-%b-%e",inputPosition:{x:-15,y:15},selected:0},navigator:{xAxis:{labels:{enabled:false}},height:40},scrollbar:{enabled:false},credits:{enabled:false},yAxis:[{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span>"+this.value.toFixed(2)+"</span>"}},height:"68%",lineWidth:1,style:{color:"#ffff11"},gridLineColor:"#cccccc",gridLineDashStyle:"ShortDash"},{opposite:false,labels:{enabled:false},top:"70%",height:"30%",offset:0,lineWidth:1,gridLineColor:"#dddddd"}],xAxis:{labels:{style:{color:"#808080",fontWight:"normal"},formatter:function(){var j=Highcharts.dateFormat("%b/%e",this.value);return j}},gridLineColor:"#606060",alternateGridColor:"",minorGridLineColor:"#dddddd",minorTickColor:"#dddddd",tickColor:"#dddddd"},series:[{type:"candlestick",name:h,data:d,dataGrouping:{units:a}},{type:"column",name:"\u6210\u4EA4\u91CF",data:e,yAxis:1,dataGrouping:{units:a}}]})}function market_ajax(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S==null){a.id.css({"border":"1px dotted #ccc"});a.id.html("<span class='nal'>\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["0\u624B","\u4E07\u624B","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));B.push({x:h,y:Number(S[N][1])});
x.push({x:h,y:Number(S[N][2])})}appendTimeMessage(B,x,S);var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[15,48,20,50],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);var X=this.points[2].y;return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;font-size:14px;"><span>'+"\u6210\u4EA4\u91CF\uFF1A  </span>"+" <span>"+(X/100).toFixed(0)+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px Verdana, sans-serif"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:25px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:25px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,a.prev_close)+">"+this.value+"</span>"}},height:"72%",lineWidth:1,showFirstLabel:true,showLastLabel:true,gridLineWidth:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{align:"left",x:0,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,0)+">"+this.value+"%</span>"}},lineWidth:0,top:"0%",height:"72%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){positions=[(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2),(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),"0.00",(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2)];return positions}},{labels:{align:"right",x:-3,y:0,style:{color:"#666666"}},showFirstLabel:false,top:"75%",height:"25%",offset:0,lineWidth:1,gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",opposite:false}],series:[{name:a.codeName,data:B,yAxis:0,color:"#7cb5ec",dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}},{type:"column",name:"\u6210\u4EA4\u91CF",data:x,yAxis:2,dataGrouping:{units:q},borderWidth:0.1}]})},error:function(b,d,c){}})}function market_snapAjax_qq(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+b,jsonp:"callback",data:{select:"name,last,chg_rate,change,amount,volume,open,prev_close,ask,bid,high,low,tradephase"},cache:false,success:function(e){var u=e.code;
var s=[];var x=[];var B=[];var q=e.snap;var n=e.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var d=e.time+"";var y=d.substring(0,d.length-4)+":"+d.substring(d.length-4,d.length-2);var w;var r=q[0];var h=q[1];var t=q[7];var C=q[3].toFixed(3);var o=q[2].toFixed(3)+"";var z=q[4];var v=q[5];var m=q[8];var p=q[9];var c=q[10];var g=q[11];var f=q[6];var k=q[12];z=z/10000;var A;function j(D){if(D>q[7]){A="col_red"}else{if(D<q[7]){A="col_green"}else{A="col_color"}}return("<span class='first_span "+A+"''>"+D+"</span>")}if(t!=h){if(C>0){C="+"+C;A="col_red"}else{A="col_green"}}else{classs="col_color"}s.push("<table cellspacing='0' cellpadding='0'><tr class='first_tr'><td class='first_td'><h1>"+u+"</h1></td><td class='last_td'><h1>"+r+"</h1></td></tr><tr><td class='first_td' rowspan=2><h2>"+j(h.toFixed(3))+"</h2></td><td class='last_td'><h3 class='"+A+"'>"+C+"</h3></td></tr><tr><td class='last_td'><h3 class='"+A+"'>"+o+"%</h3></td></tr></table>");x.push("<ul class='mm5'><li>\u5356\u4E94"+j(m[8].toFixed(3))+"<span class='last_span'>"+Math.round(m[9]/100)+"</span></li><li>\u5356\u56DB"+j(m[6].toFixed(3))+"<span class='last_span'>"+Math.round(m[7]/100)+"</span></li><li>\u5356\u4E09"+j(m[4].toFixed(3))+"<span class='last_span'>"+Math.round(m[5]/100)+"</span></li><li>\u5356\u4E8C"+j(m[2].toFixed(3))+"<span class='last_span'>"+Math.round(m[3]/100)+"</span></li><li class='last_li'>\u5356\u4E00"+j(m[0].toFixed(3))+"<span class='last_span'>"+Math.round(m[1]/100)+"</span></li></ul>"+"<ul class='m5'><li class='first_li'>\u4E70\u4E00"+j(p[0].toFixed(3))+"<span class='last_span'>"+Math.round(p[1]/100)+"</span></li><li>\u4E70\u4E8C"+j(p[2].toFixed(3))+"<span class='last_span'>"+Math.round(p[3]/100)+"</span></li><li>\u4E70\u4E09"+j(p[4].toFixed(3))+"<span class='last_span'>"+Math.round(p[5]/100)+"</span></li><li>\u4E70\u56DB"+j(p[6].toFixed(3))+"<span class='last_span'>"+Math.round(p[7]/100)+"</span></li><li>\u4E70\u4E94"+j(p[8].toFixed(3))+"<span class='last_span'>"+Math.round(p[9]/100)+"</span></li></ul>");B.push("<table><tr><td class='td_a'>\u6628\u6536</td><td class='td_b' style='color:#999;'>"+t.toFixed(3)+"</td><td class='td_c'>\u6700\u9AD8</td><td class='td_d'>"+j(c.toFixed(3))+"</td></tr><tr><td class='td_a'>\u5F00\u76D8</td><td class='td_b'>"+j(f.toFixed(3))+"</td><td class='td_c'>\u6700\u4F4E</td><td class='td_d'>"+j(g.toFixed(3))+"</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u91CF</td><td class='td_b' colspan='2' style='color:#999;'>"+(v/100).toFixed(0)+" \u624B</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u989D</td><td class='td_b' colspan='2' style='color:#999;'>"+z.toFixed(0)+" \u4E07\u7F8E\u5143</td></tr>"+"<tr><td class='td_a'>\u65F6\u95F4</td><td class='td_b' colspan='3' style='color:#999;'>"+l+" "+y+"</td></tr>"+"<tr><td class='td_a' colspan='2'>\u4EA4\u6613\u72B6\u6001</td><td class='td_b' colspan='2' style='color:#999;'>"+checkStatus(k)+"</td></tr></table>");$("#pad01").html(s.join(""));$("#pad02").html(x.join(""));$("#pad03").html(B.join(""));if(a){if(e.snap.length<1){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(k.replace(/\s/ig,"")=="P1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){market_ajax_qq({id:$("#market_ticker"),code:u,last:h,codeName:r,open:f,high:c,low:g,prev_close:t})}}}}else{if(checkBrowser()){kLinedaykAjax_qq(u)}}}})}function kLinedaykAjax_qq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/dayk/"+a,jsonp:"callback",data:{select:"date,open,high,low,close,volume",begin:-300,end:-1},cache:false,success:function(b){kLineshow_qq(b)}})}function kLineshow_qq(f){var h=f.code;f=f.kline;var d=[],e=[],g=f.length;for(i=0;i<g;i++){var b=f[i][0];b=getDateUTCOrNot(b,true);d.push([b,f[i][1],f[i][2],f[i][3],f[i][4]]);e.push([b,f[i][5]])}var a=[["day",[1]]];var c=Highcharts.seriesTypes.column.prototype.drawPoints;Highcharts.seriesTypes.column.prototype.drawPoints=function(){var q=Highcharts.merge,m=this,o=this.chart,n=m.points,l=n.length;while(l--){var j=o.series[0].points[l];if(j.open!=undefined&&j.close!=undefined){var k=(j.open<j.close)?"#DD2200":"#33AA11";var p=q(m.pointAttr);p[""].fill=k;p.hover.fill=Highcharts.Color(k).brighten(0.3).get();p.select.fill=k}else{var p=q(m.pointAttr)}n[l].pointAttr=p}c.call(this)};Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"\u81F3"}});$("#market_ticker").highcharts("StockChart",{chart:{margin:[15,15,25,45],spacing:[0,0,15,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,backgroundColor:0},tooltip:{valueDecinale:2},plotOptions:{series:{animation:false},candlestick:{upColor:"#dd2200",upLineColor:"#dd2200",color:"#33aa11",lineColor:"#33aa11"}},rangeSelector:{buttons:[{type:"day",count:100,text:"\u4E09\u6708"},{type:"week",count:26,text:"\u534A\u5E74"},{type:"month",count:12,text:"\u4E00\u5E74"}],inputBoxWidth:90,inputDateFormat:"%Y-%b-%e",inputPosition:{x:-15,y:15},selected:0},navigator:{xAxis:{labels:{enabled:false}},height:40},scrollbar:{enabled:false},credits:{enabled:false},yAxis:[{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span>"+this.value.toFixed(3)+"</span>"
}},height:"68%",lineWidth:1,style:{color:"#ffff11"},gridLineColor:"#cccccc",gridLineDashStyle:"ShortDash"},{opposite:false,labels:{enabled:false},top:"70%",height:"30%",offset:0,lineWidth:1,gridLineColor:"#dddddd"}],xAxis:{labels:{style:{color:"#808080",fontWight:"normal"},formatter:function(){var j=Highcharts.dateFormat("%b/%e",this.value);return j}},gridLineColor:"#606060",alternateGridColor:"",minorGridLineColor:"#dddddd",minorTickColor:"#dddddd",tickColor:"#dddddd"},series:[{type:"candlestick",name:h,data:d,dataGrouping:{units:a}},{type:"column",name:"\u6210\u4EA4\u91CF",data:e,yAxis:1,dataGrouping:{units:a}}]})}function market_ajax_qq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S==null){a.id.css({"border":"1px dotted #ccc"});a.id.html("<span class='nal'>\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["0\u624B","\u4E07\u624B","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(S[N][2])})}appendTimeMessage(B,x,S);var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[15,48,20,50],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);var X=this.points[2].y;return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;font-size:14px;"><span>'+"\u6210\u4EA4\u91CF\uFF1A  </span>"+" <span>"+(X/100).toFixed(0)+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px Verdana, sans-serif"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:25px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:25px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,a.prev_close)+">"+this.value+"</span>"}},height:"72%",lineWidth:1,showFirstLabel:true,showLastLabel:true,gridLineWidth:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];
return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{align:"left",x:0,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,0)+">"+this.value+"%</span>"}},lineWidth:0,top:"0%",height:"72%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){positions=[(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2),(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),"0.00",(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2)];return positions}},{labels:{align:"right",x:-3,y:0,style:{color:"#666666"}},showFirstLabel:false,top:"75%",height:"25%",offset:0,lineWidth:1,gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",opposite:false}],series:[{name:a.codeName,data:B,yAxis:0,color:"#7cb5ec",dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}},{type:"column",name:"\u6210\u4EA4\u91CF",data:x,yAxis:2,dataGrouping:{units:q},borderWidth:0.1}]})},error:function(b,d,c){}})}function market_snapAjax_zs(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+b,jsonp:"callback",data:{select:"name,last,chg_rate,change,amount,volume,open,prev_close,ask,bid,high,low,tradephase"},cache:false,success:function(e){var u=e.code;var s=[];var x=[];var B=[];var q=e.snap;var n=e.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var d=e.time+"";var y=d.substring(0,d.length-4)+":"+d.substring(d.length-4,d.length-2);var w;var r=q[0];var h=q[1];var t=q[7];var C=q[3].toFixed(2);var o=q[2].toFixed(2)+"";var z=q[4];var v=q[5];var m=q[8];var p=q[9];var c=q[10];var g=q[11];var f=q[6];var k=q[12];z=z/100000000;var A;function j(D){if(D>q[7]){A="col_red"}else{if(D<q[7]){A="col_green"}else{A="col_color"}}return("<span class='first_span "+A+"''>"+D+"</span>")}if(t!=h){if(C>0){C="+"+C;A="col_red"}else{A="col_green"}}else{classs="col_color"}s.push("<table cellspacing='0' cellpadding='0'><tr class='first_tr'><td class='first_td'><h1>"+u+"</h1></td><td class='last_td'><h1>"+r+"</h1></td></tr><tr><td class='first_td' rowspan=2><h2>"+j(h.toFixed(2))+"</h2></td><td class='last_td'><h3 class='"+A+"'>"+C+"</h3></td></tr><tr><td class='last_td'><h3 class='"+A+"'>"+o+"%</h3></td></tr></table>");x.push("<ul class='mm5'><li>\u5356\u4E94"+j(m[8].toFixed(2))+"<span class='last_span'>"+Math.round(m[9]/100)+"</span></li><li>\u5356\u56DB"+j(m[6].toFixed(2))+"<span class='last_span'>"+Math.round(m[7]/100)+"</span></li><li>\u5356\u4E09"+j(m[4].toFixed(2))+"<span class='last_span'>"+Math.round(m[5]/100)+"</span></li><li>\u5356\u4E8C"+j(m[2].toFixed(2))+"<span class='last_span'>"+Math.round(m[3]/100)+"</span></li><li class='last_li'>\u5356\u4E00"+j(m[0].toFixed(2))+"<span class='last_span'>"+Math.round(m[1]/100)+"</span></li></ul>"+"<ul class='m5'><li class='first_li'>\u4E70\u4E00"+j(p[0].toFixed(2))+"<span class='last_span'>"+Math.round(p[1]/100)+"</span></li><li>\u4E70\u4E8C"+j(p[2].toFixed(2))+"<span class='last_span'>"+Math.round(p[3]/100)+"</span></li><li>\u4E70\u4E09"+j(p[4].toFixed(2))+"<span class='last_span'>"+Math.round(p[5]/100)+"</span></li><li>\u4E70\u56DB"+j(p[6].toFixed(2))+"<span class='last_span'>"+Math.round(p[7]/100)+"</span></li><li>\u4E70\u4E94"+j(p[8].toFixed(2))+"<span class='last_span'>"+Math.round(p[9]/100)+"</span></li></ul>");B.push("<table><tr><td class='td_a'>\u6628\u6536</td><td class='td_b' style='color:#999;'>"+t.toFixed(2)+"</td><td class='td_c'>\u6700\u9AD8</td><td class='td_d'>"+j(c.toFixed(2))+"</td></tr><tr><td class='td_a'>\u5F00\u76D8</td><td class='td_b'>"+j(f.toFixed(2))+"</td><td class='td_c'>\u6700\u4F4E</td><td class='td_d'>"+j(g.toFixed(2))+"</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u91CF</td><td class='td_b' colspan='2' style='color:#999;'>"+(v/10000).toFixed(0)+" \u4E07\u624B</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u989D</td><td class='td_b' colspan='2' style='color:#999;'>"+z.toFixed(2)+" \u4EBF\u5143</td></tr>"+"<tr><td class='td_a'>\u65F6\u95F4</td><td class='td_b' colspan='3' style='color:#999;'>"+l+" "+y+"</td></tr></table>");$("#pad01").html(s.join(""));$("#pad02").html(x.join(""));$("#pad03").html(B.join(""));if(a){if(e.snap.length<1){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(k.replace(/\s/ig,"")=="P1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')
}else{if(checkBrowser()){market_ajax_zs({id:$("#market_ticker"),code:u,last:h,codeName:r,open:f,high:c,low:g,prev_close:t})}}}}else{if(checkBrowser()){kLinedaykAjax_zs(u)}}}})}function kLinedaykAjax_zs(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/dayk/"+a,jsonp:"callback",data:{select:"date,open,high,low,close,volume",begin:-300,end:-1},cache:false,success:function(b){kLineshow_zs(b)}})}function kLineshow_zs(f){var h=f.code;f=f.kline;var d=[],e=[],g=f.length;for(i=0;i<g;i++){var b=f[i][0];b=getDateUTCOrNot(b,true);d.push([b,f[i][1],f[i][2],f[i][3],f[i][4]]);e.push([b,f[i][5]])}var a=[["day",[1]]];var c=Highcharts.seriesTypes.column.prototype.drawPoints;Highcharts.seriesTypes.column.prototype.drawPoints=function(){var q=Highcharts.merge,m=this,o=this.chart,n=m.points,l=n.length;while(l--){var j=o.series[0].points[l];if(j.open!=undefined&&j.close!=undefined){var k=(j.open<j.close)?"#DD2200":"#33AA11";var p=q(m.pointAttr);p[""].fill=k;p.hover.fill=Highcharts.Color(k).brighten(0.3).get();p.select.fill=k}else{var p=q(m.pointAttr)}n[l].pointAttr=p}c.call(this)};Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"\u81F3"}});$("#market_ticker").highcharts("StockChart",{chart:{margin:[15,15,25,40],spacing:[0,0,15,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,backgroundColor:0},tooltip:{valueDecinale:2},plotOptions:{series:{animation:false},candlestick:{upColor:"#dd2200",upLineColor:"#dd2200",color:"#33aa11",lineColor:"#33aa11"}},rangeSelector:{buttons:[{type:"day",count:100,text:"\u4E09\u6708"},{type:"week",count:26,text:"\u534A\u5E74"},{type:"month",count:12,text:"\u4E00\u5E74"}],inputBoxWidth:90,inputDateFormat:"%Y-%b-%e",inputPosition:{x:-15,y:15},selected:0},navigator:{xAxis:{labels:{enabled:false}},height:40},scrollbar:{enabled:false},credits:{enabled:false},yAxis:[{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span>"+this.value.toFixed(0)+"</span>"}},height:"68%",lineWidth:1,style:{color:"#ffff11"},gridLineColor:"#cccccc",gridLineDashStyle:"ShortDash"},{opposite:false,labels:{enabled:false},top:"70%",height:"30%",offset:0,lineWidth:1,gridLineColor:"#dddddd"}],xAxis:{labels:{style:{color:"#808080",fontWight:"normal"},formatter:function(){var j=Highcharts.dateFormat("%b/%e",this.value);return j}},gridLineColor:"#606060",alternateGridColor:"",minorGridLineColor:"#dddddd",minorTickColor:"#dddddd",tickColor:"#dddddd"},series:[{type:"candlestick",name:h,data:d,dataGrouping:{units:a}},{type:"column",name:"\u6210\u4EA4\u91CF",data:e,yAxis:1,dataGrouping:{units:a}}]})}function market_ajax_zs(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S==null){a.id.css({"border":"1px dotted #ccc"});a.id.html("<span class='nal'>\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["000","\u767E\u4E07\u624B","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(S[N][2])})}appendTimeMessage(B,x,S);var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);
var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[15,48,20,62],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);var X=this.points[2].y;return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;font-size:14px;"><span>'+"\u6210\u4EA4\u91CF\uFF1A  </span>"+" <span>"+(X/100).toFixed(0)+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px Verdana, sans-serif"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:25px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:25px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,a.prev_close)+">"+this.value+"</span>"}},height:"72%",lineWidth:1,showFirstLabel:true,showLastLabel:true,gridLineWidth:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{align:"left",x:0,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,0)+">"+this.value+"%</span>"}},lineWidth:0,top:"0%",height:"72%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){positions=[(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2),(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),"0.00",(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2)];return positions}},{labels:{align:"right",x:-3,y:0,style:{color:"#666666"}},showFirstLabel:false,top:"75%",height:"25%",offset:0,lineWidth:1,gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",opposite:false}],series:[{name:a.codeName,data:B,yAxis:0,color:"#7cb5ec",dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}},{type:"column",name:"\u6210\u4EA4\u91CF",data:x,yAxis:2,dataGrouping:{units:q},borderWidth:0.1}]})},error:function(b,d,c){}})}function market_snapAjax_jj(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+b,jsonp:"callback",data:{select:"name,last,chg_rate,change,amount,volume,open,prev_close,ask,bid,high,low,tradephase"},cache:false,success:function(e){var u=e.code;var s=[];var x=[];var B=[];var q=e.snap;var n=e.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var d=e.time+"";var y=d.substring(0,d.length-4)+":"+d.substring(d.length-4,d.length-2);var w;var r=q[0];var h=q[1];var t=q[7];var C=q[3].toFixed(3);var o=q[2].toFixed(2)+"";var z=q[4];var v=q[5];var m=q[8];var p=q[9];var c=q[10];var g=q[11];var f=q[6];var k=q[12];z=z/10000;var A;function j(D){if(D>q[7]){A="col_red"}else{if(D<q[7]){A="col_green"}else{A="col_color"}}return("<span class='first_span "+A+"''>"+D+"</span>")
}if(t!=h){if(C>0){C="+"+C;A="col_red"}else{A="col_green"}}else{classs="col_color"}s.push("<table cellspacing='0' cellpadding='0'><tr class='first_tr'><td class='first_td'><h1>"+u+"</h1></td><td class='last_td'><h1>"+r+"</h1></td></tr><tr><td class='first_td' rowspan=2><h2>"+j(h.toFixed(3))+"</h2></td><td class='last_td'><h3 class='"+A+"'>"+C+"</h3></td></tr><tr><td class='last_td'><h3 class='"+A+"'>"+o+"%</h3></td></tr></table>");x.push("<ul class='mm5'><li>\u5356\u4E94"+j(m[8].toFixed(3))+"<span class='last_span'>"+Math.round(m[9]/100)+"</span></li><li>\u5356\u56DB"+j(m[6].toFixed(3))+"<span class='last_span'>"+Math.round(m[7]/100)+"</span></li><li>\u5356\u4E09"+j(m[4].toFixed(3))+"<span class='last_span'>"+Math.round(m[5]/100)+"</span></li><li>\u5356\u4E8C"+j(m[2].toFixed(3))+"<span class='last_span'>"+Math.round(m[3]/100)+"</span></li><li class='last_li'>\u5356\u4E00"+j(m[0].toFixed(3))+"<span class='last_span'>"+Math.round(m[1]/100)+"</span></li></ul>"+"<ul class='m5'><li class='first_li'>\u4E70\u4E00"+j(p[0].toFixed(3))+"<span class='last_span'>"+Math.round(p[1]/100)+"</span></li><li>\u4E70\u4E8C"+j(p[2].toFixed(3))+"<span class='last_span'>"+Math.round(p[3]/100)+"</span></li><li>\u4E70\u4E09"+j(p[4].toFixed(3))+"<span class='last_span'>"+Math.round(p[5]/100)+"</span></li><li>\u4E70\u56DB"+j(p[6].toFixed(3))+"<span class='last_span'>"+Math.round(p[7]/100)+"</span></li><li>\u4E70\u4E94"+j(p[8].toFixed(3))+"<span class='last_span'>"+Math.round(p[9]/100)+"</span></li></ul>");B.push("<table><tr><td class='td_a'>\u6628\u6536</td><td class='td_b' style='color:#999;'>"+t.toFixed(3)+"</td><td class='td_c'>\u6700\u9AD8</td><td class='td_d'>"+j(c.toFixed(3))+"</td></tr><tr><td class='td_a'>\u5F00\u76D8</td><td class='td_b'>"+j(f.toFixed(3))+"</td><td class='td_c'>\u6700\u4F4E</td><td class='td_d'>"+j(g.toFixed(3))+"</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u91CF</td><td class='td_b' colspan='2' style='color:#999;'>"+(v/100).toFixed(0)+" \u624B</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u989D</td><td class='td_b' colspan='2' style='color:#999;'>"+z.toFixed(0)+" \u4E07\u5143</td></tr>"+"<tr><td class='td_a'>\u65F6\u95F4</td><td class='td_b' colspan='3' style='color:#999;'>"+l+" "+y+"</td></tr>"+"<tr><td class='td_a' colspan='2'>\u4EA4\u6613\u72B6\u6001</td><td class='td_b' colspan='2' style='color:#999;'>"+checkStatus(k)+"</td></tr></table>");$("#pad01").html(s.join(""));$("#pad02").html(x.join(""));$("#pad03").html(B.join(""));if(a){if(e.snap.length<1){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(k.replace(/\s/ig,"")=="P1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){market_ajax_jj({id:$("#market_ticker"),code:u,last:h,codeName:r,open:f,high:c,low:g,prev_close:t})}}}}else{if(checkBrowser()){kLinedaykAjax_jj(u)}}}})}function kLinedaykAjax_jj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/dayk/"+a,jsonp:"callback",data:{select:"date,open,high,low,close,volume",begin:-300,end:-1},cache:false,success:function(b){kLineshow_jj(b)}})}function kLineshow_jj(f){var h=f.code;f=f.kline;var d=[],e=[],g=f.length;for(i=0;i<g;i++){var b=f[i][0];b=getDateUTCOrNot(b,true);d.push([b,f[i][1],f[i][2],f[i][3],f[i][4]]);e.push([b,f[i][5]])}var a=[["day",[1]]];var c=Highcharts.seriesTypes.column.prototype.drawPoints;Highcharts.seriesTypes.column.prototype.drawPoints=function(){var q=Highcharts.merge,m=this,o=this.chart,n=m.points,l=n.length;while(l--){var j=o.series[0].points[l];if(j.open!=undefined&&j.close!=undefined){var k=(j.open<j.close)?"#DD2200":"#33AA11";var p=q(m.pointAttr);p[""].fill=k;p.hover.fill=Highcharts.Color(k).brighten(0.3).get();p.select.fill=k}else{var p=q(m.pointAttr)}n[l].pointAttr=p}c.call(this)};Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"\u81F3"}});$("#market_ticker").highcharts("StockChart",{chart:{margin:[15,15,25,40],spacing:[0,0,15,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,backgroundColor:0},tooltip:{valueDecinale:2},plotOptions:{series:{animation:false},candlestick:{upColor:"#dd2200",upLineColor:"#dd2200",color:"#33aa11",lineColor:"#33aa11"}},rangeSelector:{buttons:[{type:"day",count:100,text:"\u4E09\u6708"},{type:"week",count:26,text:"\u534A\u5E74"},{type:"month",count:12,text:"\u4E00\u5E74"}],inputBoxWidth:90,inputDateFormat:"%Y-%b-%e",inputPosition:{x:-15,y:15},selected:0},navigator:{xAxis:{labels:{enabled:false}},height:40},scrollbar:{enabled:false},credits:{enabled:false},yAxis:[{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span>"+this.value.toFixed(3)+"</span>"
}},height:"68%",lineWidth:1,style:{color:"#ffff11"},gridLineColor:"#cccccc",gridLineDashStyle:"ShortDash"},{opposite:false,labels:{enabled:false},top:"70%",height:"30%",offset:0,lineWidth:1,gridLineColor:"#dddddd"}],xAxis:{labels:{style:{color:"#808080",fontWight:"normal"},formatter:function(){var j=Highcharts.dateFormat("%b/%e",this.value);return j}},gridLineColor:"#606060",alternateGridColor:"",minorGridLineColor:"#dddddd",minorTickColor:"#dddddd",tickColor:"#dddddd"},series:[{type:"candlestick",name:h,data:d,dataGrouping:{units:a}},{type:"column",name:"\u6210\u4EA4\u91CF",data:e,yAxis:1,dataGrouping:{units:a}}]})}function market_ajax_jj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S==null){a.id.css({"border":"1px dotted #ccc"});a.id.html("<span class='nal'>\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(S[N][2])})}appendTimeMessage(B,x,S);var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[15,48,20,45],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);var X=this.points[2].y;return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;font-size:14px;"><span>'+"\u6210\u4EA4\u91CF\uFF1A  </span>"+" <span>"+(X/100).toFixed(0)+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px Verdana, sans-serif"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:25px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:25px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,a.prev_close)+">"+this.value+"</span>"}},height:"72%",lineWidth:1,showFirstLabel:true,showLastLabel:true,gridLineWidth:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];
return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{align:"left",x:0,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,0)+">"+this.value+"%</span>"}},lineWidth:0,top:"0%",height:"72%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){positions=[(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2),(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),"0.00",(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2)];return positions}},{labels:{align:"right",x:-3,y:0,style:{color:"#666666"}},showFirstLabel:false,top:"75%",height:"25%",offset:0,lineWidth:1,gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",opposite:false}],series:[{name:a.codeName,data:B,yAxis:0,color:"#7cb5ec",dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}},{type:"column",name:"\u6210\u4EA4\u91CF",data:x,yAxis:2,dataGrouping:{units:q},borderWidth:0.1}]})},error:function(b,d,c){}})}function market_snapAjax_zq(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+b,jsonp:"callback",data:{select:"name,last,chg_rate,change,amount,volume,open,prev_close,ask,bid,high,low,tradephase"},cache:false,success:function(e){var u=e.code;var s=[];var x=[];var B=[];var q=e.snap;var n=e.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var d=e.time+"";var y=d.substring(0,d.length-4)+":"+d.substring(d.length-4,d.length-2);var w;var r=q[0];var h=q[1];var t=q[7];var C=q[3].toFixed(2);var o=q[2].toFixed(2)+"";var z=q[4];var v=q[5];var m=q[8];var p=q[9];var c=q[10];var g=q[11];var f=q[6];var k=q[12];z=z/10000;var A;function j(D){if(D>q[7]){A="col_red"}else{if(D<q[7]){A="col_green"}else{A="col_color"}}return("<span class='first_span "+A+"''>"+D+"</span>")}if(t!=h){if(C>0){C="+"+C;A="col_red"}else{A="col_green"}}else{classs="col_color"}s.push("<table cellspacing='0' cellpadding='0'><tr class='first_tr'><td class='first_td'><h1>"+u+"</h1></td><td class='last_td'><h1>"+r+"</h1></td></tr><tr><td class='first_td' rowspan=2><h2>"+j(h.toFixed(2))+"</h2></td><td class='last_td'><h3 class='"+A+"'>"+C+"</h3></td></tr><tr><td class='last_td'><h3 class='"+A+"'>"+o+"%</h3></td></tr></table>");x.push("<ul class='mm5'><li>\u5356\u4E94"+j(m[8].toFixed(2))+"<span class='last_span'>"+Math.round(m[9]/100)+"</span></li><li>\u5356\u56DB"+j(m[6].toFixed(2))+"<span class='last_span'>"+Math.round(m[7]/100)+"</span></li><li>\u5356\u4E09"+j(m[4].toFixed(2))+"<span class='last_span'>"+Math.round(m[5]/100)+"</span></li><li>\u5356\u4E8C"+j(m[2].toFixed(2))+"<span class='last_span'>"+Math.round(m[3]/100)+"</span></li><li class='last_li'>\u5356\u4E00"+j(m[0].toFixed(2))+"<span class='last_span'>"+Math.round(m[1]/100)+"</span></li></ul>"+"<ul class='m5'><li class='first_li'>\u4E70\u4E00"+j(p[0].toFixed(2))+"<span class='last_span'>"+Math.round(p[1]/100)+"</span></li><li>\u4E70\u4E8C"+j(p[2].toFixed(2))+"<span class='last_span'>"+Math.round(p[3]/100)+"</span></li><li>\u4E70\u4E09"+j(p[4].toFixed(2))+"<span class='last_span'>"+Math.round(p[5]/100)+"</span></li><li>\u4E70\u56DB"+j(p[6].toFixed(2))+"<span class='last_span'>"+Math.round(p[7]/100)+"</span></li><li>\u4E70\u4E94"+j(p[8].toFixed(2))+"<span class='last_span'>"+Math.round(p[9]/100)+"</span></li></ul>");B.push("<table><tr><td class='td_a'>\u6628\u6536</td><td class='td_b' style='color:#999;'>"+t.toFixed(2)+"</td><td class='td_c'>\u6700\u9AD8</td><td class='td_d'>"+j(c.toFixed(2))+"</td></tr><tr><td class='td_a'>\u5F00\u76D8</td><td class='td_b'>"+j(f.toFixed(2))+"</td><td class='td_c'>\u6700\u4F4E</td><td class='td_d'>"+j(g.toFixed(2))+"</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u91CF</td><td class='td_b' colspan='2' style='color:#999;'>"+v.toFixed(0)+" \u624B</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u989D</td><td class='td_b' colspan='2' style='color:#999;'>"+z.toFixed(0)+" \u4E07\u5143</td></tr>"+"<tr><td class='td_a'>\u65F6\u95F4</td><td class='td_b' colspan='3' style='color:#999;'>"+l+" "+y+"</td></tr>"+"<tr><td class='td_a' colspan='2'>\u4EA4\u6613\u72B6\u6001</td><td class='td_b' colspan='2' style='color:#999;'>"+checkStatus(k)+"</td></tr></table>");$("#pad01").html(s.join(""));$("#pad02").html(x.join(""));$("#pad03").html(B.join(""));if(a){if(e.snap.length<1){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(k.replace(/\s/ig,"")=="P1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u505C\u724C\u4E2D</span></center>')
}else{if(k.replace(/\s/ig,"")=="C1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){market_ajax_zq({id:$("#market_ticker"),code:u,last:h,codeName:r,open:f,high:c,low:g,prev_close:t})}}}}else{if(checkBrowser()){kLinedaykAjax_zq(u)}}}})}function kLinedaykAjax_zq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/dayk/"+a,jsonp:"callback",data:{select:"date,open,high,low,close,volume",begin:-300,end:-1},cache:false,success:function(b){kLineshow_zq(b)}})}function kLineshow_zq(f){var h=f.code;f=f.kline;var d=[],e=[],g=f.length;for(i=0;i<g;i++){var b=f[i][0];b=getDateUTCOrNot(b,true);d.push([b,f[i][1],f[i][2],f[i][3],f[i][4]]);e.push([b,f[i][5]])}var a=[["day",[1]]];var c=Highcharts.seriesTypes.column.prototype.drawPoints;Highcharts.seriesTypes.column.prototype.drawPoints=function(){var q=Highcharts.merge,m=this,o=this.chart,n=m.points,l=n.length;while(l--){var j=o.series[0].points[l];if(j.open!=undefined&&j.close!=undefined){var k=(j.open<j.close)?"#DD2200":"#33AA11";var p=q(m.pointAttr);p[""].fill=k;p.hover.fill=Highcharts.Color(k).brighten(0.3).get();p.select.fill=k}else{var p=q(m.pointAttr)}n[l].pointAttr=p}c.call(this)};Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"\u81F3"}});$("#market_ticker").highcharts("StockChart",{chart:{margin:[15,15,25,48],spacing:[0,0,15,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,backgroundColor:0},tooltip:{valueDecinale:2},plotOptions:{series:{animation:false},candlestick:{upColor:"#dd2200",upLineColor:"#dd2200",color:"#33aa11",lineColor:"#33aa11"}},rangeSelector:{buttons:[{type:"day",count:100,text:"\u4E09\u6708"},{type:"week",count:26,text:"\u534A\u5E74"},{type:"month",count:12,text:"\u4E00\u5E74"}],inputBoxWidth:90,inputDateFormat:"%Y-%b-%e",inputPosition:{x:-15,y:15},selected:0},navigator:{xAxis:{labels:{enabled:false}},height:40},scrollbar:{enabled:false},credits:{enabled:false},yAxis:[{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span>"+this.value.toFixed(2)+"</span>"}},height:"68%",lineWidth:1,style:{color:"#ffff11"},gridLineColor:"#cccccc",gridLineDashStyle:"ShortDash"},{opposite:false,labels:{enabled:false},top:"70%",height:"30%",offset:0,lineWidth:1,gridLineColor:"#dddddd"}],xAxis:{labels:{style:{color:"#808080",fontWight:"normal"},formatter:function(){var j=Highcharts.dateFormat("%b/%e",this.value);return j}},gridLineColor:"#606060",alternateGridColor:"",minorGridLineColor:"#dddddd",minorTickColor:"#dddddd",tickColor:"#dddddd"},series:[{type:"candlestick",name:h,data:d,dataGrouping:{units:a}},{type:"column",name:"\u6210\u4EA4\u91CF",data:e,yAxis:1,dataGrouping:{units:a}}]})}function market_ajax_zq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S==null){a.id.css({"border":"1px dotted #ccc"});a.id.html("<span class='nal'>\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(S[N][2])})}appendTimeMessage(B,x,S);var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);
var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[15,48,20,55],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);var X=this.points[2].y;return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;font-size:14px;"><span>'+"\u6210\u4EA4\u91CF\uFF1A  </span>"+" <span>"+(X/100).toFixed(0)+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px Verdana, sans-serif"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:25px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:25px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,a.prev_close)+">"+this.value+"</span>"}},height:"72%",lineWidth:1,showFirstLabel:true,showLastLabel:true,gridLineWidth:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{align:"left",x:0,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,0)+">"+this.value+"%</span>"}},lineWidth:0,top:"0%",height:"72%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){positions=[(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2),(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),"0.00",(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2)];return positions}},{labels:{align:"right",x:-3,y:0,style:{color:"#666666"},enabled:false},showFirstLabel:false,top:"75%",height:"25%",offset:0,lineWidth:1,gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",opposite:false}],series:[{name:a.codeName,data:B,yAxis:0,color:"#7cb5ec",dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}},{type:"column",name:"\u6210\u4EA4\u91CF",data:x,yAxis:2,dataGrouping:{units:q},borderWidth:0.1}]})},error:function(b,d,c){}})}function market_snapAjax_hg(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/snap/"+b,jsonp:"callback",data:{select:"name,last,chg_rate,change,amount,volume,open,prev_close,ask,bid,high,low,tradephase"},cache:false,success:function(e){var u=e.code;var s=[];var x=[];var B=[];var q=e.snap;var n=e.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var d=e.time+"";var y=d.substring(0,d.length-4)+":"+d.substring(d.length-4,d.length-2);var w;var r=q[0];var h=q[1];var t=q[7];var C=q[3].toFixed(3);var o=q[2].toFixed(2)+"";var z=q[4];
var v=q[5];var m=q[8];var p=q[9];var c=q[10];var g=q[11];var f=q[6];var k=q[12];z=z/10000;var A;function j(D){if(D>q[7]){A="col_red"}else{if(D<q[7]){A="col_green"}else{A="col_color"}}return("<span class='first_span "+A+"''>"+D+"</span>")}if(t!=h){if(C>0){C="+"+C;A="col_red"}else{A="col_green"}}else{classs="col_color"}s.push("<table cellspacing='0' cellpadding='0'><tr class='first_tr'><td class='first_td'><h1>"+u+"</h1></td><td class='last_td'><h1>"+r+"</h1></td></tr><tr><td class='first_td' rowspan=2><h2>"+j(h.toFixed(3))+"</h2></td><td class='last_td'><h3 class='"+A+"'>"+C+"</h3></td></tr><tr><td class='last_td'><h3 class='"+A+"'>"+o+"%</h3></td></tr></table>");x.push("<ul class='mm5'><li>\u5356\u4E94"+j(m[8].toFixed(3))+"<span class='last_span'>"+Math.round(m[9]/100)+"</span></li><li>\u5356\u56DB"+j(m[6].toFixed(3))+"<span class='last_span'>"+Math.round(m[7]/100)+"</span></li><li>\u5356\u4E09"+j(m[4].toFixed(3))+"<span class='last_span'>"+Math.round(m[5]/100)+"</span></li><li>\u5356\u4E8C"+j(m[2].toFixed(3))+"<span class='last_span'>"+Math.round(m[3]/100)+"</span></li><li class='last_li'>\u5356\u4E00"+j(m[0].toFixed(3))+"<span class='last_span'>"+Math.round(m[1]/100)+"</span></li></ul>"+"<ul class='m5'><li class='first_li'>\u4E70\u4E00"+j(p[0].toFixed(3))+"<span class='last_span'>"+Math.round(p[1]/100)+"</span></li><li>\u4E70\u4E8C"+j(p[2].toFixed(3))+"<span class='last_span'>"+Math.round(p[3]/100)+"</span></li><li>\u4E70\u4E09"+j(p[4].toFixed(3))+"<span class='last_span'>"+Math.round(p[5]/100)+"</span></li><li>\u4E70\u56DB"+j(p[6].toFixed(3))+"<span class='last_span'>"+Math.round(p[7]/100)+"</span></li><li>\u4E70\u4E94"+j(p[8].toFixed(3))+"<span class='last_span'>"+Math.round(p[9]/100)+"</span></li></ul>");B.push("<table><tr><td class='td_a'>\u6628\u6536</td><td class='td_b' style='color:#999;'>"+t.toFixed(3)+"</td><td class='td_c'>\u6700\u9AD8</td><td class='td_d'>"+j(c.toFixed(3))+"</td></tr><tr><td class='td_a'>\u5F00\u76D8</td><td class='td_b'>"+j(f.toFixed(3))+"</td><td class='td_c'>\u6700\u4F4E</td><td class='td_d'>"+j(g.toFixed(3))+"</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u91CF</td><td class='td_b' colspan='2' style='color:#999;'>"+(v/100).toFixed(0)+" \u624B</td></tr><tr><td class='td_a' colspan='2'>\u6210\u4EA4\u989D</td><td class='td_b' colspan='2' style='color:#999;'>"+z.toFixed(0)+" \u4E07\u5143</td></tr>"+"<tr><td class='td_a'>\u65F6\u95F4</td><td class='td_b' colspan='3' style='color:#999;'>"+l+" "+y+"</td></tr>"+"<tr><td class='td_a' colspan='2'>\u4EA4\u6613\u72B6\u6001</td><td class='td_b' colspan='2' style='color:#999;'>"+checkStatus(k)+"</td></tr></table>");$("#pad01").html(s.join(""));$("#pad02").html(x.join(""));$("#pad03").html(B.join(""));if(a){if(e.snap.length<1){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span></center>')}if(k.replace(/\s/ig,"")=="P1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){$("#market_ticker").html('<center style="margin-top:45%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 40px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){market_ajax_hg({id:$("#market_ticker"),code:u,last:h,codeName:r,open:f,high:c,low:g,prev_close:t})}}}}else{if(checkBrowser()){kLinedaykAjax_hg(u)}}}})}function kLinedaykAjax_hg(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/dayk/"+a,jsonp:"callback",data:{select:"date,open,high,low,close,volume",begin:-300,end:-1},cache:false,success:function(b){kLineshow_hg(b)}})}function kLineshow_hg(f){var h=f.code;f=f.kline;var d=[],e=[],g=f.length;for(i=0;i<g;i++){var b=f[i][0];b=getDateUTCOrNot(b,true);d.push([b,f[i][1],f[i][2],f[i][3],f[i][4]]);e.push([b,f[i][5]])}var a=[["day",[1]]];var c=Highcharts.seriesTypes.column.prototype.drawPoints;Highcharts.seriesTypes.column.prototype.drawPoints=function(){var q=Highcharts.merge,m=this,o=this.chart,n=m.points,l=n.length;while(l--){var j=o.series[0].points[l];if(j.open!=undefined&&j.close!=undefined){var k=(j.open<j.close)?"#DD2200":"#33AA11";var p=q(m.pointAttr);p[""].fill=k;p.hover.fill=Highcharts.Color(k).brighten(0.3).get();p.select.fill=k}else{var p=q(m.pointAttr)}n[l].pointAttr=p}c.call(this)};Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"\u81F3"}});$("#market_ticker").highcharts("StockChart",{chart:{margin:[15,15,25,40],spacing:[0,0,15,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,backgroundColor:0},tooltip:{valueDecinale:2},plotOptions:{series:{animation:false},candlestick:{upColor:"#dd2200",upLineColor:"#dd2200",color:"#33aa11",lineColor:"#33aa11"}},rangeSelector:{buttons:[{type:"day",count:100,text:"\u4E09\u6708"},{type:"week",count:26,text:"\u534A\u5E74"},{type:"month",count:12,text:"\u4E00\u5E74"}],inputBoxWidth:90,inputDateFormat:"%Y-%b-%e",inputPosition:{x:-15,y:15},selected:0},navigator:{xAxis:{labels:{enabled:false}},height:40},scrollbar:{enabled:false},credits:{enabled:false},yAxis:[{opposite:false,showFirstLabel:false,showLastLabel:true,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span>"+this.value.toFixed(1)+"%</span>"
}},height:"68%",lineWidth:1,style:{color:"#ffff11"},gridLineColor:"#cccccc",gridLineDashStyle:"ShortDash"},{opposite:false,labels:{enabled:false},top:"70%",height:"30%",offset:0,lineWidth:1,gridLineColor:"#dddddd"}],xAxis:{labels:{style:{color:"#808080",fontWight:"normal"},formatter:function(){var j=Highcharts.dateFormat("%b/%e",this.value);return j}},gridLineColor:"#606060",alternateGridColor:"",minorGridLineColor:"#dddddd",minorTickColor:"#dddddd",tickColor:"#dddddd"},series:[{type:"candlestick",name:h,data:d,dataGrouping:{units:a}},{type:"column",name:"\u6210\u4EA4\u91CF",data:e,yAxis:1,dataGrouping:{units:a}}]})}function market_ajax_hg(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S==null){a.id.css({"border":"1px dotted #ccc"});a.id.html("<span class='nal'>\u6682\u65E0\u8D70\u52BF\u4FE1\u606F</span>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(S[N][2])})}appendTimeMessage(B,x,S);var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[15,58,20,55],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);var X=this.points[2].y;return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;font-size:14px;"><span>'+"\u6210\u4EA4\u91CF\uFF1A  </span>"+" <span>"+(X/100).toFixed(0)+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px Verdana, sans-serif"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:25px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:25px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{align:"right",x:-2,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,a.prev_close)+">"+this.value+"</span>"}},height:"72%",lineWidth:1,showFirstLabel:true,showLastLabel:true,gridLineWidth:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];
return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{align:"left",x:0,y:5,useHTML:true,formatter:function(){return"<span style="+Comparative(this.value,0)+">"+this.value+"%</span>"}},lineWidth:0,top:"0%",height:"72%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){positions=[(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2),(((a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),"0.00",(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2)/a.prev_close-1)*100).toFixed(2),(((a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low)))/a.prev_close-1)*100).toFixed(2)];return positions}},{labels:{align:"right",x:-3,y:0,style:{color:"#666666"},enabled:false},showFirstLabel:false,top:"75%",height:"25%",offset:0,lineWidth:1,gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",opposite:false}],series:[{name:a.codeName,data:B,yAxis:0,color:"#7cb5ec",dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}},{type:"column",name:"\u6210\u4EA4\u91CF",data:x,yAxis:2,dataGrouping:{units:q},borderWidth:0.1}]})},error:function(b,d,c){}})}var _inpCode="000001";function dataScsjSearchInit(){_inpCode="000001";var a=$(".cScshSearch #btnQuery");var b=$(".cScshSearch #inputCode");var d=$("#tableData_hq_scsj_search #tack_con");var c=$("#tableData_hq_scsj_search #tack_tab");if(!checkBrowser()){d.html("<center style='margin-top:35%'><span class='nal' style='color: #ccc;'>\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301HTML5\u884C\u60C5<br/>\u8BF7\u4F7F\u7528IE9\u53CA\u4EE5\u4E0A\u7248\u672C\u6D4F\u89C8\u5668</span></center>")}dataScsjSearchInitMethod({id:d,code:_inpCode,dtId:c});a.click(function(){_inpCode=b.val();if(_inpCode.length!=6){alert("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u80A1\u7968\u4EE3\u7801")}else{dataScsjSearchInitMethod({id:d,code:_inpCode,dtId:c})}});window.setInterval(function(){dataScsjSearchInitMethod({id:d,code:_inpCode,dtId:c})},15000)}function dataScsjSearchInitMethod(b){var a=judgmType(b.code);switch(a){case"astock":dataScsjAjax({id:b.id,code:b.code,dtId:b.dtId});break;case"bstock":dataScsjAjax_qq({id:b.id,code:b.code,dtId:b.dtId});break;case"fund":dataScsjAjax_jj({id:b.id,code:b.code,dtId:b.dtId});break;case"bond":dataScsjAjax_zq({id:b.id,code:b.code,dtId:b.dtId});break;case"index":dataScsjAjax_zs({id:b.id,code:b.code,dtId:b.dtId});break;case"huigou":dataScsjAjax_hg({id:b.id,code:b.code,dtId:b.dtId});break}}function dataScsjAjax(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"last,open,name,high,low,change,chg_rate,prev_close,volume,amount,tradephase"},cache:false,success:function(f){var o=f.list;var c=f.time+"";var n=f.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var s=c.substring(0,c.length-4)+":"+c.substring(c.length-4,c.length-2)+":"+c.substring(c.length-2);var b=o[0][0];var j=o[0][1];var p=o[0][2];var d=o[0][3];var h=o[0][4];var t=o[0][5];var e=o[0][6];var m=o[0][7];var g=o[0][8];var q=o[0][9];var k=o[0][10];a.dtId.find("h1:eq(0)").html(a.code);a.dtId.find("h1:eq(1)").html(p);var r=[];r.push("<li><span class='span_a'>\u73B0\u4EF7</span><span class='span_b' style='"+Comparative(b,m)+"'>"+b.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC</span><span class='span_b' style='"+Comparative(t,0)+"'>"+t.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC\u5E45</span><span class='span_b' style='"+Comparative(e,0)+"'>"+e.toFixed(2)+"%</span></li>");r.push("<li><span class='span_a'>\u6628\u6536</span><span class='span_b'>"+m.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u5F00\u76D8</span><span class='span_b' style='"+Comparative(j,m)+"'>"+j.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u9AD8</span><span class='span_b' style='"+Comparative(d,m)+"'>"+d.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u4F4E</span><span class='span_b' style='"+Comparative(h,m)+"'>"+h.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u603B\u91CF</span><span class='span_b'>"+Number(g/100).toFixed(0)+" \u624B</span></li>");r.push("<li><span class='span_a'>\u603B\u989D</span><span class='span_b'>"+Number(q/10000).toFixed(0)+" \u4E07\u5143</span></li>");r.push("<li><span class='span_a'>\u65F6\u95F4</span><span class='span_b'>"+s+"</span></li>");r.push("<li><span class='span_a'>\u65E5\u671F</span><span class='span_b'>"+l+"</span></li>");r.push("<li><span class='span_a'>\u4EA4\u6613\u72B6\u6001</span><span class='span_b'>"+checkStatus(k)+"</span></li>");a.dtId.find("ul").html(r.join(""));if(k.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')
}else{if(k.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){dataScsjSearch({id:a.id,code:a.code,last:b,codeName:p,open:j,high:d,low:h,prev_close:m})}}}}})}function dataScsjSearch(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.css({"border":"1px solid #CCC"});return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,5,20,48],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",width:"90%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:0.5,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions
}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",lineWidth:0.5,cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function dataScsjAjax_jj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"last,open,name,high,low,change,chg_rate,prev_close,volume,amount,tradephase"},cache:false,success:function(f){var o=f.list;var n=f.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var c=f.time+"";var s=c.substring(0,c.length-4)+":"+c.substring(c.length-4,c.length-2)+":"+c.substring(c.length-2);var b=o[0][0];var j=o[0][1];var p=o[0][2];var d=o[0][3];var h=o[0][4];var t=o[0][5];var e=o[0][6];var m=o[0][7];var g=o[0][8];var q=o[0][9];var k=o[0][10];a.dtId.find("h1:eq(0)").html(a.code);a.dtId.find("h1:eq(1)").html(p);var r=[];r.push("<li><span class='span_a'>\u73B0\u4EF7</span><span class='span_b' style='"+Comparative(b,m)+"'>"+b.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC</span><span class='span_b' style='"+Comparative(t,0)+"'>"+t.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC\u5E45</span><span class='span_b' style='"+Comparative(e,0)+"'>"+e.toFixed(2)+"%</span></li>");r.push("<li><span class='span_a'>\u6628\u6536</span><span class='span_b'>"+m.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u5F00\u76D8</span><span class='span_b' style='"+Comparative(j,m)+"'>"+j.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u9AD8</span><span class='span_b' style='"+Comparative(d,m)+"'>"+d.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u4F4E</span><span class='span_b' style='"+Comparative(h,m)+"'>"+h.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u603B\u91CF</span><span class='span_b'>"+Number(g/100).toFixed(0)+" \u624B</span></li>");r.push("<li><span class='span_a'>\u603B\u989D</span><span class='span_b'>"+Number(q/10000).toFixed(0)+" \u4E07\u5143</span></li>");r.push("<li><span class='span_a'>\u65F6\u95F4</span><span class='span_b'>"+s+"</span></li>");r.push("<li><span class='span_a'>\u65E5\u671F</span><span class='span_b'>"+l+"</span></li>");r.push("<li><span class='span_a'>\u4EA4\u6613\u72B6\u6001</span><span class='span_b'>"+checkStatus(k)+"</span></li>");a.dtId.find("ul").html(r.join(""));if(k.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){dataScsjSearch_jj({id:a.id,code:a.code,last:b,codeName:p,open:j,high:d,low:h,prev_close:m})}}}}})}function dataScsjSearch_jj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.css({"border":"1px solid #CCC"});return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);
var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,5,20,46],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",width:"90%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:0.5,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",lineWidth:0.5,cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function dataScsjAjax_qq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"last,open,name,high,low,change,chg_rate,prev_close,volume,amount,tradephase"},cache:false,success:function(f){var o=f.list;var n=f.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var c=f.time+"";var s=c.substring(0,c.length-4)+":"+c.substring(c.length-4,c.length-2)+":"+c.substring(c.length-2);var b=o[0][0];var j=o[0][1];var p=o[0][2];var d=o[0][3];var h=o[0][4];var t=o[0][5];var e=o[0][6];var m=o[0][7];var g=o[0][8];var q=o[0][9];var k=o[0][10];a.dtId.find("h1:eq(0)").html(a.code);a.dtId.find("h1:eq(1)").html(p);var r=[];r.push("<li><span class='span_a'>\u73B0\u4EF7</span><span class='span_b' style='"+Comparative(b,m)+"'>"+b.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC</span><span class='span_b' style='"+Comparative(t,0)+"'>"+t.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC\u5E45</span><span class='span_b' style='"+Comparative(e,0)+"'>"+e.toFixed(2)+"%</span></li>");r.push("<li><span class='span_a'>\u6628\u6536</span><span class='span_b'>"+m.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u5F00\u76D8</span><span class='span_b' style='"+Comparative(j,m)+"'>"+j.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u9AD8</span><span class='span_b' style='"+Comparative(d,m)+"'>"+d.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u4F4E</span><span class='span_b' style='"+Comparative(h,m)+"'>"+h.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u603B\u91CF</span><span class='span_b'>"+Number(g/100).toFixed(0)+" \u624B</span></li>");
r.push("<li><span class='span_a'>\u603B\u989D</span><span class='span_b'>"+Number(q/10000).toFixed(0)+" \u4E07\u7F8E\u5143</span></li>");r.push("<li><span class='span_a'>\u65F6\u95F4</span><span class='span_b'>"+s+"</span></li>");r.push("<li><span class='span_a'>\u65E5\u671F</span><span class='span_b'>"+l+"</span></li>");r.push("<li><span class='span_a'>\u4EA4\u6613\u72B6\u6001</span><span class='span_b'>"+checkStatus(k)+"</span></li>");a.dtId.find("ul").html(r.join(""));if(k.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){dataScsjSearch_qq({id:a.id,code:a.code,last:b,codeName:p,open:j,high:d,low:h,prev_close:m})}}}}})}function dataScsjSearch_qq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.css({"border":"1px solid #CCC"});return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,5,20,52],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",width:"90%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];
return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:0.5,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",lineWidth:0.5,cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function dataScsjAjax_zq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"last,open,name,high,low,change,chg_rate,prev_close,volume,amount,tradephase"},cache:false,success:function(f){var o=f.list;var n=f.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var c=f.time+"";var s=c.substring(0,c.length-4)+":"+c.substring(c.length-4,c.length-2)+":"+c.substring(c.length-2);var b=o[0][0];var j=o[0][1];var p=o[0][2];var d=o[0][3];var h=o[0][4];var t=o[0][5];var e=o[0][6];var m=o[0][7];var g=o[0][8];var q=o[0][9];var k=o[0][10];a.dtId.find("h1:eq(0)").html(a.code);a.dtId.find("h1:eq(1)").html(p);var r=[];r.push("<li><span class='span_a'>\u73B0\u4EF7</span><span class='span_b' style='"+Comparative(b,m)+"'>"+b.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC</span><span class='span_b' style='"+Comparative(t,0)+"'>"+t.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC\u5E45</span><span class='span_b' style='"+Comparative(e,0)+"'>"+e.toFixed(2)+"%</span></li>");r.push("<li><span class='span_a'>\u6628\u6536</span><span class='span_b'>"+m.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u5F00\u76D8</span><span class='span_b' style='"+Comparative(j,m)+"'>"+j.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u9AD8</span><span class='span_b' style='"+Comparative(d,m)+"'>"+d.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u4F4E</span><span class='span_b' style='"+Comparative(h,m)+"'>"+h.toFixed(2)+"</span></li>");r.push("<li><span class='span_a'>\u603B\u91CF</span><span class='span_b'>"+Number(g).toFixed(0)+" \u624B</span></li>");r.push("<li><span class='span_a'>\u603B\u989D</span><span class='span_b'>"+Number(q/10000).toFixed(0)+" \u4E07\u5143</span></li>");r.push("<li><span class='span_a'>\u65F6\u95F4</span><span class='span_b'>"+s+"</span></li>");r.push("<li><span class='span_a'>\u65E5\u671F</span><span class='span_b'>"+l+"</span></li>");r.push("<li><span class='span_a'>\u4EA4\u6613\u72B6\u6001</span><span class='span_b'>"+checkStatus(k)+"</span></li>");a.dtId.find("ul").html(r.join(""));if(k.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){dataScsjSearch_zq({id:a.id,code:a.code,last:b,codeName:p,open:j,high:d,low:h,prev_close:m})}}}}})}function dataScsjSearch_zq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.css({"border":"1px solid #CCC"});return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});
var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,5,20,52],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",width:"90%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:0.5,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",lineWidth:0.5,cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function dataScsjAjax_zs(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"last,open,name,high,low,change,chg_rate,prev_close,volume,amount,tradephase"},cache:false,success:function(f){var o=f.list;var n=f.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var c=f.time+"";var r=c.substring(0,c.length-4)+":"+c.substring(c.length-4,c.length-2)+":"+c.substring(c.length-2);var b=o[0][0];var j=o[0][1];var p=o[0][2];var d=o[0][3];var h=o[0][4];var t=o[0][5];var e=o[0][6];var m=o[0][7];var g=o[0][8];var q=o[0][9];a.dtId.find("h1:eq(0)").html(a.code);a.dtId.find("h1:eq(1)").html(p);var s=[];s.push("<li><span class='span_a'>\u73B0\u4EF7</span><span class='span_b' style='"+Comparative(b,m)+"'>"+b.toFixed(2)+"</span></li>");s.push("<li><span class='span_a'>\u6DA8\u8DCC</span><span class='span_b' style='"+Comparative(t,0)+"'>"+t.toFixed(2)+"</span></li>");s.push("<li><span class='span_a'>\u6DA8\u8DCC\u5E45</span><span class='span_b' style='"+Comparative(e,0)+"'>"+e.toFixed(2)+"%</span></li>");s.push("<li><span class='span_a'>\u6628\u6536</span><span class='span_b'>"+m.toFixed(2)+"</span></li>");s.push("<li><span class='span_a'>\u5F00\u76D8</span><span class='span_b' style='"+Comparative(j,m)+"'>"+j.toFixed(2)+"</span></li>");
s.push("<li><span class='span_a'>\u6700\u9AD8</span><span class='span_b' style='"+Comparative(d,m)+"'>"+d.toFixed(2)+"</span></li>");s.push("<li><span class='span_a'>\u6700\u4F4E</span><span class='span_b' style='"+Comparative(h,m)+"'>"+h.toFixed(2)+"</span></li>");s.push("<li><span class='span_a'>\u603B\u91CF</span><span class='span_b'>"+(g/10000).toFixed(0)+" \u4E07\u624B</span></li>");s.push("<li><span class='span_a'>\u603B\u989D</span><span class='span_b'>"+Number(q/100000000).toFixed(2)+" \u4EBF\u5143</span></li>");s.push("<li><span class='span_a'>\u65F6\u95F4</span><span class='span_b'>"+r+"</span></li>");s.push("<li><span class='span_a'>\u65E5\u671F</span><span class='span_b'>"+l+"</span></li>");a.dtId.find("ul").html(s.join(""));var k=o[0][10];if(k.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){dataScsjSearch_zs({id:a.id,code:a.code,last:b,codeName:p,open:j,high:d,low:h,prev_close:m})}}}}})}function dataScsjSearch_zs(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.css({"border":"1px solid #CCC"});return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,5,20,63],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(2);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",width:"90%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),a.prev_close.toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(2),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(2)];
return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:0.5,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",lineWidth:0.5,cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}}]})},error:function(b,d,c){}})}function dataScsjAjax_hg(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"last,open,name,high,low,change,chg_rate,prev_close,volume,amount,tradephase"},cache:false,success:function(f){var o=f.list;var n=f.date+"";var l=n.substring(0,n.length-4)+"-"+n.substring(n.length-4,n.length-2)+"-"+n.substring(n.length-2);var c=f.time+"";var s=c.substring(0,c.length-4)+":"+c.substring(c.length-4,c.length-2)+":"+c.substring(c.length-2);var b=o[0][0];var j=o[0][1];var p=o[0][2];var d=o[0][3];var h=o[0][4];var t=o[0][5];var e=o[0][6];var m=o[0][7];var g=o[0][8];var q=o[0][9];var k=o[0][10];a.dtId.find("h1:eq(0)").html(a.code);a.dtId.find("h1:eq(1)").html(p);var r=[];r.push("<li><span class='span_a'>\u73B0\u4EF7</span><span class='span_b' style='"+Comparative(b,m)+"'>"+b.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC</span><span class='span_b' style='"+Comparative(t,0)+"'>"+t.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6DA8\u8DCC\u5E45</span><span class='span_b' style='"+Comparative(e,0)+"'>"+e.toFixed(2)+"%</span></li>");r.push("<li><span class='span_a'>\u6628\u6536</span><span class='span_b'>"+m.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u5F00\u76D8</span><span class='span_b' style='"+Comparative(j,m)+"'>"+j.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u9AD8</span><span class='span_b' style='"+Comparative(d,m)+"'>"+d.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u6700\u4F4E</span><span class='span_b' style='"+Comparative(h,m)+"'>"+h.toFixed(3)+"</span></li>");r.push("<li><span class='span_a'>\u603B\u91CF</span><span class='span_b'>"+Number(g/1000000).toFixed(0)+" \u4E07\u624B</span></li>");r.push("<li><span class='span_a'>\u603B\u989D</span><span class='span_b'>"+Number(q/100000000).toFixed(0)+" \u4EBF\u5143</span></li>");r.push("<li><span class='span_a'>\u65F6\u95F4</span><span class='span_b'>"+s+"</span></li>");r.push("<li><span class='span_a'>\u65E5\u671F</span><span class='span_b'>"+l+"</span></li>");r.push("<li><span class='span_a'>\u4EA4\u6613\u72B6\u6001</span><span class='span_b'>"+checkStatus(k)+"</span></li>");a.dtId.find("ul").html(r.join(""));if(k.replace(/\s/ig,"")=="P1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u505C\u724C\u4E2D</span></center>')}else{if(k.replace(/\s/ig,"")=="C1"){a.id.html('<center style="margin-top:40%;"><span class="nal" style="margin-top: 50%;color: #ccc;font-size: 20px;">\u96C6\u5408\u7ADE\u4EF7\u4E2D</span></center>')}else{if(checkBrowser()){dataScsjSearch_hg({id:a.id,code:a.code,last:b,codeName:p,open:j,high:d,low:h,prev_close:m})}}}}})}function dataScsjSearch_hg(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+a.code,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(G){var p=G;var T=dateConvert({data:p,last:a.last,open:a.open});var S=T.line;if(S.length==0){a.id.css({"border":"1px solid #CCC"});return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var q=[["minute",[1]]];var v;var g;var u;var f;var w;var m;var E="#ff0000";var t="#00a800";var B=[],x=[],N=0;var z=true;var o;if(S!=undefined&&S!=null&&S.length==0){try{failCallback()}catch(R){}return}var D=S[N][1];var k=T.prev_close;o=k;z=D>k?true:false;for(N;N<S.length;N+=1){var M=S[N][0]+"";var n=M.substring(8,10);var h=getDateUTCOrNot(M,true);var K=S[N][2];var J=E;if(N==0){if(z==false){J=t}v=S[N][1];g=S[N][1];u=Number(100*(S[N][1]/o-1));f=Number(100*(S[N][1]/o-1));w=S[N][2];m=S[N][2]}else{if(S[N-1][1]-S[N][1]>0){J=t}K=S[N][2]-S[N-1][2]}v=v>S[N][1]?S[N][1]:v;g=g>S[N][1]?g:S[N][1];u=u>Number(100*(S[N][1]/o-1))?Number(100*(S[N][1]/o-1)):u;f=f>Number(100*(S[N][1]/o-1))?f:Number(100*(S[N][1]/o-1));w=w>K?K:w;m=m>K?m:K;B.push({x:h,y:Number(S[N][1])});x.push({x:h,y:Number(K),color:J})}appendTimeMessage(B,x,S);
Highcharts.setOptions({global:{useUTC:false}});var P;if(S.length>0){P=S[S.length-1][0]+"";var l=new Array();for(var U=0;U<5;U++){var c;if(U==0){c=Number(P.slice(0,4))}else{c=Number(P.slice((U-1)*2+4,U*2+4))}l.push(c)}}var L=new Date(l[0],l[1]-1,l[2],l[3],l[4]);var I=$("#report");I.html("");var y=new Date(L);y.setHours(1,30,0,0);var O=convertDateToUTC(y);var F=new Date(L);F.setHours(2,30,0,0);var r=convertDateToUTC(F);var s=new Date(L);s.setHours(3,30,0,0);var H=convertDateToUTC(s);var C=new Date(L);C.setHours(5,1,0,0);var j=convertDateToUTC(C);var Q=new Date(L);Q.setHours(6,0,0,0);var V=convertDateToUTC(Q);var b=new Date(L);b.setHours(7,0,0,0);var A=convertDateToUTC(b);a.id.highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,5,20,48],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var d=a.id.highcharts();d.yAxis[0].addPlotLine({value:o,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var e=a.codeName;var d=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var W=this.points[0].y.toFixed(3);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+e+'   </span><span style="'+Comparative(W,a.prev_close)+';">'+W+'</span></p><p style="margin:0px;padding:0px;color:#999">'+d+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:H,to:j}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var d=Highcharts.dateFormat("%H:%M",this.value);if(d=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(d=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(d=="10:30"){return""}if(d=="14:00"){return""}if(d=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return d},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var d=[O,r,H,V,A];return d},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:false,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",width:"90%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3),(a.prev_close-Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),a.prev_close.toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))/2).toFixed(3),(a.prev_close+Math.max(Math.abs(a.high-a.prev_close),Math.abs(a.prev_close-a.low))).toFixed(3)];return positions}},{opposite:false,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:-5,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:0.5,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:a.codeName,data:B,yAxis:0,dataGrouping:{units:q}},{name:a.codeName,data:B,type:"line",lineWidth:0.5,cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:q}}]})},error:function(b,d,c){}})}var $lofKfsInitPg=1;function getLofCode501(){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/exchange/lof",jsonp:"callback",cache:false,success:function(a){var d=a.list;var e="";for(var c=0;c<d.length;c++){var b=d[c][0];b=b.substring(0,3);if(b==501){e+="_"+d[c][0];e=e.substr(1)}}}})}function lofKfsInit(g,a){var c=$("#tableData_hq_lofKfs table");var f=$("#tableData_hq_lofKfs .sse_table_title2");var d=$("#tableData_hq_lofKfs .pagination");var b=sitePageSize;$lofKfsInitPg=g;var e="";$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/exchange/lof",jsonp:"callback",cache:false,success:function(h){var l=h.list;for(var k=0;k<l.length;k++){var j=l[k][0];j=j.substring(0,3);if(j==501){e+="_"+l[k][0]}}console.log(e.substr(1));ajaxGetLofFj({id:c,pagination:d,pageIndex:$lofKfsInitPg*b-b,pagesize:$lofKfsInitPg*b,pageNum:b,url:"/assortment/fund/list/lofinfo/basic/index.shtml?FUNDID=",method:lofKfsInit,code:e.substr(1),tits:f})}});window.setInterval(function(){ajaxGetLofFj({id:c,pagination:d,pageIndex:$lofKfsInitPg*b-b,pagesize:$lofKfsInitPg*b,url:"/assortment/fund/list/lofinfo/basic/index.shtml?FUNDID=",pageNum:b,method:lofKfsInit,code:e,tits:f})},15000)}var $lofFjInitPg=1;function lofFjInit(d,a){var f=$("#tableData_hq_lofjj table");
var e=$("#tableData_hq_lofjj .sse_table_title2");var c=$("#tableData_hq_lofjj .pagination");var b=sitePageSize;$lofFjInitPg=d;ajaxGetLofFj({id:f,pagination:c,pageIndex:$lofFjInitPg*b-b,pagesize:$lofFjInitPg*b,url:"/assortment/fund/list/fjlofinfo/basic/index.shtml?FUNDID=",pageNum:b,method:lofFjInit,code:"502000_502001_502002_502003_502004_502005_502006_502007_502008_502009_502010_502011_502012_502013_502014_502015_502016_502017_502018_502020_502021_502022_502023_502024_502025_502026_502027_502028_502029_502030_502031_502032_502036_502037_502038_502040_502041_502042",tits:e});window.setInterval(function(){ajaxGetLofFj({id:f,pagination:c,pageIndex:$lofFjInitPg*b-b,pagesize:$lofFjInitPg*b,url:"/assortment/fund/list/fjlofinfo/basic/index.shtml?FUNDID=",pageNum:b,method:lofFjInit,code:"502000_502001_502002_502003_502004_502005_502006_502007_502008_502009_502010_502011_502012_502013_502014_502015_502016_502017_502018_502020_502021_502022_502023_502024_502025_502026_502027_502028_502029_502030_502031_502032_502036_502037_502038_502040_502041_502042",tits:e})},15000)}var _isPage=true;function ajaxGetLofFj(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,name,open,high,low,last,prev_close,chg_rate,volume,amount"},cache:false,success:function(d){var g=""+d.time;if(g.length==5){g="0"+d.time}var b=d.date+""+g;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+b.substring(0,4)+"-"+b.substring(4,6)+"-"+b.substring(6,8)+" "+b.substring(8,10)+":"+b.substring(10,12)+":"+b.substring(12));var j=d.list;var c=d.total;var h=[];h.push("<tr><th>\u8BC1\u5238\u4EE3\u7801</th><th>\u8BC1\u5238\u7B80\u4ECB</th><th>\u5F00\u76D8\u4EF7</th><th>\u6700\u9AD8\u4EF7</th><th>\u6700\u4F4E\u4EF7</th><th>\u5F53\u524D\u4EF7</th><th>\u524D\u65E5\u6536\u76D8\u4EF7</th><th>\u6DA8\u8DCC\u5E45</th><th>\u6210\u4EA4\u91CF(\u624B)</th><th>\u6210\u4EA4\u989D(\u4E07\u5143)</th></tr>");a.pagesize=a.pagesize<c?a.pagesize:c;for(var e=a.pageIndex;e<a.pagesize;e++){h.push("<tr>");h.push("<td><a href='"+a.url+j[e][0]+"' target='_blank'>"+j[e][0]+"</a></td>");h.push("<td>"+j[e][1]+"</td>");h.push("<td style='text-align: right;"+Comparative(j[e][2],j[e][6])+"'>"+j[e][2].toFixed(3)+"</td>");h.push("<td style='text-align: right;"+Comparative(j[e][3],j[e][6])+"'>"+j[e][3].toFixed(3)+"</td>");h.push("<td style='text-align: right;"+Comparative(j[e][4],j[e][6])+"'>"+j[e][4].toFixed(3)+"</td>");h.push("<td style='text-align: right;"+Comparative(j[e][5],j[e][6])+"'>"+j[e][5].toFixed(3)+"</td>");h.push("<td style='text-align: right;'>"+j[e][6].toFixed(3)+"</td>");h.push("<td style='text-align: right;"+Comparative(j[e][7],0)+"'>"+j[e][7].toFixed(2)+"%</td>");h.push("<td style='text-align: right;'>"+(j[e][8]/100).toFixed(0)+"</td>");h.push("<td style='text-align: right;'>"+(j[e][9]/10000).toFixed(3)+"</td>");h.push("</tr>")}a.id.html(h.join(""));if(_isPage){var f=c/a.pageNum;if(c%a.pageNum>0){f=parseInt(c/a.pageNum)+1}if(f>1){pageNav.go({id:a.pagination,desc:a.desc,method:a.method,p:1,pn:f});a.pagination.parent().parent().show();$("#tableData_hq_lofjj .page-con-table").show()}_isPage=false}}})}function hq_yshqInit(){var c=$("#tableData_qqhq_snapL table");var b=$("#tableData_qqhq_snapL .sse_table_title2");var d=$("#tableData_qqhq_listL table");var h=$("#tableData_qqhq_listL .sse_table_title2");var e=$("#code_select_snapL");e.html('<option>\u8BF7\u9009\u62E9</option><option code="510050" selected="selected">510050</option>');require(["multipleselect"],function(){e.multipleSelect({width:"100%",selectAll:false,single:true,multipleWidth:false,maxHeight:250,placeholder:"\u8BF7\u9009\u62E9",countSelected:false,allSelected:false,onClick:function(k){if(typeof(tableFun)!="undefined"){var j=tableFun[k.label];if(j!=undefined){j()}}}})});var a=$("#date_select_snapL");var g="510050";var f=a.find("option:selected").attr("date");var f=ajaxGetListDate({id:a,code:g,tbid:d,tits:b,titss:h});e.change(function(){f=a.find("option:selected").attr("date");g=$(this).find("option:selected").attr("code");ajaxGetSnap({code:g,id:c,tits:b});ajaxGetList({code:g+"_"+f.substring(2),id:d,c:g+"C"+f,tits:h})});a.change(function(){f=$(this).find("option:selected").attr("date");g=e.find("option:selected").attr("code");ajaxGetList({code:g+"_"+f.substring(2),id:d,c:g+"C"+f,tits:h})});ajaxGetSnap({code:g,id:c,tits:b});window.setInterval(function(){f=a.find("option:selected").attr("date");ajaxGetList({code:g+"_"+f.substring(2),id:d,c:g+"C"+f,tits:h})},60000)}function ajaxGetList(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sho/list/tstyle/"+a.code,jsonp:"callback",data:{select:"contractid,last,chg_rate,presetpx"},cache:false,success:function(e){var b=""+e.time;if(b.length==5){b="0"+e.time}var c=e.date+""+b;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+c.substring(0,4)+"-"+c.substring(4,6)+"-"+c.substring(6,8)+" "+c.substring(8,10)+":"+c.substring(10,12)+":"+c.substring(12));var m=a.code.substring(a.code.indexOf("_")+1);var k=e;var f=e.list;var n=k.total;var r=[];r.push('<tr><th colspan="4" class="T_deep_grey">\u8BA4\u8D2D</th><th class="T_deep_grey T_border" id="_mth_title">'+m+'\u6708\u4EFD</th><th colspan="4" class="T_deep_grey">\u8BA4\u6CBD</th></tr>');r.push("<tr class='T_light_grey'><th>\u5408\u7EA6\u4EA4\u6613\u4EE3\u7801</th><th>\u5F53\u524D\u4EF7</th><th>\u6DA8\u8DCC\u5E45</th><th>\u524D\u7ED3\u4EF7</th><th>\u884C\u6743\u4EF7</th><th>\u5408\u7EA6\u4EA4\u6613\u4EE3\u7801</th><th>\u5F53\u524D\u4EF7</th><th>\u6DA8\u8DCC\u5E45</th><th>\u524D\u7ED3\u4EF7</th></tr>");
for(var t=0;t<n;t++){if(f[t][0].indexOf(a.c)>=0){r.push("<tr>");var l=f[t][0].substring(0,f[t][0].indexOf("C")+1);var g=f[t][0].substring(f[t][0].indexOf("C")+1);var v=(f[t][0].substring(f[t][0].indexOf("M")+1))/1000;var d=f[t][1];var w=f[t][3];var h=T_Comparative(d,w);if(Number(d)==0){d="--"}else{d=d.toFixed(4)}r.push("<td><span>"+l+"<br/>"+g+"</span></td><td class='"+h+"'>"+d+"</td><td class='"+h+"'>"+f[t][2].toFixed(2)+"%</td><td>"+w.toFixed(4)+"</td>");r.push("<td class='T_light_grey'>"+Number(v).toFixed(3)+"</td>");for(var s=0;s<n;s++){if(f[s][0]==f[t][0].replace("C","P")){var p=f[s][0].substring(0,f[s][0].indexOf("P")+1);var x=f[s][0].substring(f[s][0].indexOf("P")+1);var u=f[s][1];var o=f[s][3];var q=T_Comparative(u,o);if(Number(u)==0){u="--"}else{u=u.toFixed(4)}r.push("<td><span>"+p+"<br/>"+x+"</span></td><td class='"+q+"'>"+u+"</td><td class='"+q+"'>"+f[s][2].toFixed(2)+"%</td><td>"+o.toFixed(4)+"</td>")}}r.push("</tr>")}}a.id.html(r.join(""))}})}function T_Comparative(b,c){var a="";if(Number(b)>Number(c)){a="T-red"}else{if(Number(b)<Number(c)){a="T-green"}}return a}function ajaxGetListDate(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sho/list/exchange/expiremonth",jsonp:"callback",data:{select:"expiremonth"},cache:false,success:function(f){var h=f.list;var j=[];for(var g=0;g<h.length;g++){var e=(h[g]+"").substring(0,4);var d=(h[g]+"").substring(2,4);var c=(h[g]+"").substring(4);var b=d+c;j.push("<option date='"+b+"'>"+e+"\u5E74"+c+"\u6708</option>")}a.id.html(j.join(""));a.id.find("option:first").attr("selected","selected");require(["multipleselect"],function(){a.id.multipleSelect({width:"100%",selectAll:false,single:true,multipleWidth:false,maxHeight:250,placeholder:"\u8BF7\u9009\u62E9",countSelected:false,allSelected:false,onClick:function(l){if(typeof(tableFun)!="undefined"){var k=tableFun[l.label];if(k!=undefined){k()}}}})});ajaxGetList({code:a.code+"_"+a.id.find("option:first").attr("date").substring(2),id:a.tbid,c:a.code+"C"+a.id.find("option:first").attr("date"),tits:a.titss})}})}function ajaxGetSnap(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,name,last,change,chg_rate,amp_rate,volume,amount,prev_close"},cache:false,success:function(b){var m=b.list;var k=""+b.time;if(k.length==5){k="0"+b.time}var e=b.date+""+k;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)+" "+e.substring(8,10)+":"+e.substring(10,12)+":"+e.substring(12));var l=[];l.push("<tr><th>\u4EE3\u7801</th><th>\u540D\u79F0</th><th>\u5F53\u524D\u4EF7</th><th>\u6DA8\u8DCC</th><th>\u6DA8\u8DCC\u5E45</th><th>\u632F\u5E45</th><th>\u6210\u4EA4\u91CF(\u624B)</th><th>\u6210\u4EA4\u989D(\u4E07\u5143)</th></tr>");for(var h=0;h<m.length;h++){l.push("<tr>");l.push("<td desc='code'>"+m[h][0]+"</td>");l.push("<td desc='name'>"+m[h][1]+"</td>");var f=m[h][2];var j=m[h][3];var d=m[h][8];var c=Comparative(f,d);l.push("<td desc='last'  style='text-align: right;"+c+"'>"+f.toFixed(3)+"</td>");l.push("<td desc='change' style='text-align: right;"+c+"'>"+j.toFixed(3)+"</td>");l.push("<td desc='chg_rate' sstyle='text-align: right;"+c+"'>"+m[h][4]+"%</td>");l.push("<td desc='amp_rate' style='text-align: right;'>"+m[h][5]+"%</td>");l.push("<td desc='volume' style='text-align: right;'>"+(m[h][6]/100).toFixed(0)+"</td>");var g=m[h][7]/10000;l.push("<td desc='amount'>"+g.toFixed(3)+"</td>");l.push("</tr>")}a.id.html(l.join(""))}})}function etfHomeInit(){var b=$("#tableData_etf_hq table");var a=$("#tableData_etf_hq .sse_table_title2");var c="510050_510180_510300_510010_510020_510060";ajaxGetETFHome({code:c,id:b,tits:a});window.setInterval(function(){ajaxGetETFHome({code:c,id:b,tits:a})},60000)}function ajaxGetETFHome(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,name,last,chg_rate,volume,amount,prev_close"},cache:false,success:function(c){var h=c.list;var n=""+c.time;if(n.length==5){n="0"+c.time}var e=c.date+""+n;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)+" "+e.substring(8,10)+":"+e.substring(10,12)+":"+e.substring(12));var d=[];d.push("<tr><th>\u4EE3\u7801</th><th>\u540D\u79F0</th><th>\u5F53\u524D\u4EF7</th><th>\u6DA8\u8DCC\u5E45</th><th>\u6210\u4EA4\u989D(\u4E07\u5143)</th></tr>");for(var g=0;g<h.length;g++){d.push("<tr>");var o=h[g][1];var b=h[g][0];d.push("<td desc='code'><a href='/assortment/fund/list/etfinfo/basic/index.shtml?FUNDID="+b+"' target='_blank'>"+b+"</a></td>");if(b=="510010"){o="\u6CBB\u7406ETF"}else{if(b=="510020"){o="\u8D85\u5927ETF"}else{if(b=="510060"){o="\u592E\u4F01ETF"}}}d.push("<td desc='name'>"+o+"</td>");var l=h[g][2];var k=h[g][3];var m=h[g][6];var j=Comparative(l,m);d.push("<td desc='last' style='text-align: right;"+j+"'>"+l.toFixed(3)+"</td>");d.push("<td desc='chg_rate' style='text-align: right;"+j+"'>"+k.toFixed(2)+"%</td>");var f=h[g][5]/10000;d.push("<td desc='amount' style='text-align: right;'>"+f.toFixed(2)+"</td>");d.push("</tr>")}a.id.html(d.join(""))}})}function etfIopvInit(){var b=$("#tableData_etf_iopv table");var a=$("#tableData_etf_iopv .sse_table_title2");var c="510011_510021_510031_510051_510061";
ajaxGetETFIopv({code:c,id:b,tits:a});window.setInterval(function(){ajaxGetETFIopv({code:c,id:b,tits:a})},60000)}function ajaxGetETFIopv(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,name,nav"},cache:false,success:function(d){var g=d.list;var f=""+d.time;if(f.length==5){f="0"+d.time}var c=d.date+""+f;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+c.substring(0,4)+"-"+c.substring(4,6)+"-"+c.substring(6,8)+" "+c.substring(8,10)+":"+c.substring(10,12)+":"+c.substring(12));var b=[];b.push("<tr><th>\u57FA\u91D1\u4EE3\u7801</th><th>\u57FA\u91D1\u540D\u79F0</th><th>\u57FA\u91D1\u51C0\u503C</th></tr>");for(var e=0;e<g.length;e++){b.push("<tr>");b.push("<td desc='code'>"+g[e][0]+"</td>");b.push("<td desc='name'>"+g[e][1]+"</td>");b.push("<td desc='nav'>"+g[e][1].toFixed(2)+"</td>");b.push("</tr>")}a.id.html(b.join(""))}})}var $hq_etfHqInitPg=1;function hq_etfHqInit(f,c){var e=$("#tableData_etf_list table");var b=$("#tableData_etf_list .sse_table_title2");var a=$("#tableData_etf_list .pagination");var d=sitePageSize;$hq_etfHqInitPg=f;var g="";$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/exchange/ebs",jsonp:"callback",data:{select:"code,tradephase"},cache:false,success:function(h){var l=h.list;var k="";for(var j=0;j<l.length;j++){if(l[j][1].replace(/\s/ig,"")!="P1"){k+=l[j][0]+"_"}}k=k.substring(0,k.length-1);g=k;ajaxGetEtfHq({code:k,id:e,pagination:a,pageIndex:$hq_etfHqInitPg*d-d,pagesize:$hq_etfHqInitPg*d,pageNum:d,method:hq_etfHqInit,tits:b})}});window.setInterval(function(){ajaxGetEtfHq({code:g,id:e,pagination:a,pageIndex:$hq_etfHqInitPg*d-d,pagesize:$hq_etfHqInitPg*d,pageNum:d,method:hq_etfHqInit,tits:b})},15000)}var _isPage=true;function ajaxGetEtfHq(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,name,open,high,low,last,prev_close,chg_rate,volume,amount"},cache:false,success:function(b){var f=b.list;var j=""+b.time;if(j.length==5){j="0"+b.time}var d=b.date+""+j;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+d.substring(0,4)+"-"+d.substring(4,6)+"-"+d.substring(6,8)+" "+d.substring(8,10)+":"+d.substring(10,12)+":"+d.substring(12));var c=[];c.push("<tr><th>\u8BC1\u5238\u4EE3\u7801</th><th>\u8BC1\u5238\u7B80\u4ECB</th><th>\u5F00\u76D8\u4EF7</th><th>\u6700\u9AD8\u4EF7</th><th>\u6700\u4F4E\u4EF7</th><th>\u5F53\u524D\u4EF7</th><th>\u524D\u65E5\u6536\u76D8\u4EF7</th><th>\u6DA8\u8DCC\u5E45</th><th>\u6210\u4EA4\u91CF(\u624B)</th><th>\u6210\u4EA4\u989D(\u4E07\u5143)</th></tr>");var l=b.total;a.pagesize=a.pagesize<l?a.pagesize:l;for(var e=a.pageIndex;e<a.pagesize;e++){c.push("<tr>");c.push("<td><a href='/assortment/fund/list/etfinfo/basic/index.shtml?FUNDID="+f[e][0]+"' target='_blank'>"+f[e][0]+"</a></td>");c.push("<td>"+f[e][1]+"</td>");var n=f[e][2].toFixed(3);if(n<=0){n="--"}var m=f[e][3].toFixed(3);if(m<=0){m="--"}var k=f[e][4].toFixed(3);if(k<=0){k="--"}var h=f[e][5].toFixed(3);if(h<=0){h="--"}c.push("<td style='text-align: right;"+Comparative(f[e][2],f[e][6])+"'>"+n+"</td>");c.push("<td style='text-align: right;"+Comparative(f[e][3],f[e][6])+"'>"+m+"</td>");c.push("<td style='text-align: right;"+Comparative(f[e][4],f[e][6])+"'>"+k+"</td>");c.push("<td style='text-align: right;"+Comparative(f[e][5],f[e][6])+"'>"+h+"</td>");c.push("<td style='text-align: right;'>"+f[e][6].toFixed(3)+"</td>");c.push("<td style='"+Comparative(f[e][7],0)+"'>"+f[e][7].toFixed(2)+"%</td>");c.push("<td style='text-align: right;'>"+(f[e][8]/100).toFixed(0)+"</td>");c.push("<td style='text-align: right;'>"+(f[e][9]/10000).toFixed(3)+"</td>");c.push("</tr>")}a.id.html(c.join(""));if(_isPage){var g=l/a.pageNum;if(l%a.pageNum>0){g=parseInt(l/a.pageNum)+1}if(g>1){pageNav.go({id:a.pagination,desc:a.desc,method:a.method,p:1,pn:g});a.pagination.parent().parent().show();$("#tableData_etf_list .page-con-table").show()}_isPage=false}}})}function hq_etflistLabInit(){var b=$("#tableData_etf_listLab table");var a=$("#tableData_etf_listLab .sse_table_title2");var c="";$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/exchange/ebs",jsonp:"callback",data:{select:"code"},cache:false,success:function(d){var g=d.list;var f="";for(var e=0;e<g.length;e++){if(g[e][1].replace(/\s/ig,"")!="P1"){f+=g[e][0]+"_"}}f=f.substring(0,f.length-1);c=f;ajaxGetEtfListLab({code:f,id:b,tits:a})}});window.setInterval(function(){ajaxGetEtfListLab({code:c,id:b,tits:a})},30000)}function ajaxGetEtfListLab(a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+a.code,jsonp:"callback",data:{select:"code,name,open,high,low,last,prev_close,chg_rate,volume,amount"},cache:false,success:function(d){var g=d.list;var f=""+d.time;if(f.length==5){f="0"+d.time}var c=d.date+""+f;a.tits.show();a.tits.find("p").html("\u66F4\u65B0\u65F6\u95F4\uFF1A "+c.substring(0,4)+"-"+c.substring(4,6)+"-"+c.substring(6,8)+" "+c.substring(8,10)+":"+c.substring(10,12)+":"+c.substring(12));var b=[];b.push("<tr><th>\u8BC1\u5238\u4EE3\u7801</th><th>\u8BC1\u5238\u7B80\u4ECB</th></tr>");for(var e=0;e<g.length;e++){b.push("<tr>");b.push("<td>"+g[e][0]+"</td>");b.push("<td>"+g[e][1]+"</td>");b.push("</tr>")}a.id.html(b.join(""))}})}function Comparative(b,c){var a="";if(Number(b)>Number(c)){a="color:red;"}else{if(Number(b)<Number(c)){a="color:green;"
}}return a}var _codeIndex=0;function hq_homeInit(){var a="000001_000016_000010_000009_000300";window.setInterval(function(){snapAjax(a,_codeIndex)},15000);snapAjax(a,0);var b=true;$(window).resize(function(){if(b){snapAjax(a,_codeIndex);b=false}})}function snapAjax(b,a){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/list/self/"+b,jsonp:"callback",data:{select:"code,name,last,chg_rate,amount,open,prev_close"},cache:false,success:function(e){var m=e.list;var k=e.date+""+e.time;k=dateFormat2(k);var u=[];var d=[];for(var s=0;s<m.length;s++){var q;var j;var n=m[s][1];var f=m[s][2];var o=m[s][6];var l=m[s][3].toFixed(2)+"";var t=m[s][4];t=t/100000000;u.push("<li page='"+s+"' tis='true'>"+n+"</li>");if(o!=f){if(l>0){l="+"+l;j="col_red"}else{j="col_green"}}else{j="col_color"}d.push("<li page='"+s+"'><span class='"+j+"'>"+f.toFixed(2)+"</span><span class='"+j+"'>"+l+"%</span><span class='"+j+"' title='\u6210\u4EA4\u989D'>"+t.toFixed(0)+"\u4EBF\u5143</span></li>")}$("#ul01").html(u.join(""));$("#ul02").html(d.join(""));var c=m[a][2];var g=m[a][5];var p=m[a][0];var r=m[a][1];var h=m[a][6];li_click(b);cg_bgStyle(a);$("._date").html(k);ajax(p,c,g,r,h)}})}function li_click(a){$("#ul01 li").click(function(){snapAjax(a,$(this).attr("page"));_codeIndex=$(this).attr("page")});$("#ul02 li").click(function(){snapAjax(a,$(this).attr("page"));_codeIndex=$(this).attr("page")})}function cg_bgStyle(a){$(".ul01 li").removeClass("cl_bgColor1").removeClass("cl_bgColor2");$(".ul01 li").each(function(){if($(this).attr("tis")){if($(this).attr("page")==a){$(this).addClass("cl_bgColor1")}else{$(this).addClass("cl_bgColor2")}}else{if($(this).attr("page")==a){$(this).addClass("cl_bgColor1");$(this).show();if($(this).find("span").attr("class")=="col_green"){$(this).find("span").removeClass("col_green").addClass("col_green1")}else{if($(this).find("span").attr("class")=="col_red"){$(this).find("span").removeClass("col_red").addClass("col_red1")}}}else{$(this).addClass("cl_bgColor2")}}})}function dateFormat2(g){var d=g.substring(0,4);var e=g.substring(4,6);var b=g.substring(6,8);var a=g.substring(8,g.length-4);var f=g.substring(g.length-4,g.length-2);var c=g.substring(g.length-2);return d+"\u5E74"+e+"\u6708"+b+"\u65E5  "+a+":"+f+":"+c}function dateFormat(g){var d=g.substring(0,4);var e=g.substring(4,6);var b=g.substring(6,8);var a=g.substring(8,10);var f=g.substring(10,12);var c=g.substring(12);return d+"\u5E74"+e+"\u6708"+b+"\u65E5  "+a+":"+f+":"+c}Date.prototype.Format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in c){if(new RegExp("("+b+")").test(a)){a=a.replace(RegExp.$1,(RegExp.$1.length==1)?(c[b]):(("00"+c[b]).substr((""+c[b]).length)))}}return a};function getDateUTCOrNot(c,a){if(!(c instanceof String)){c+=""}var e=new Array();for(var d=0;d<5;d++){var b;if(d==0){b=Number(c.slice(0,4))}else{b=Number(c.slice((d-1)*2+4,d*2+4))}e.push(b)}if(a==false){return new Date(e[0],e[1]-1,e[2],e[3],e[4])}var f=Number(Date.UTC(e[0],e[1]-1,e[2],e[3],e[4]));return f}function appendTimeMessage(e,d,c){var a=c[c.length-1][0]+"";var j=getDateUTCOrNot(a,false);var g=new Date(j);g.setHours(1,30,0,0);var h=new Date(j);h.setHours(5,1,0,0);var f=new Date(j);f.setHours(7,0,0,0);if(j<g){var b=j;b.setMinutes((b.getMinutes()+1));for(;b<=g;b.setMinutes((b.getMinutes()+1))){e.push({x:convertDateToUTC(b)});d.push({x:convertDateToUTC(b)})}b=h;for(;b<=f;b.setMinutes((b.getMinutes()+1))){e.push({x:convertDateToUTC(b)});d.push({x:convertDateToUTC(b)})}}else{if(j<f){var b;if(Number(j)==Number(g)){b=h}else{b=j}b.setMinutes((b.getMinutes()+1));for(;b<=f;b.setMinutes((b.getMinutes()+1))){e.push({x:convertDateToUTC(b)});d.push({x:convertDateToUTC(b)})}}}}function ajax(e,d,a,c,b){$.ajax({type:"POST",dataType:"jsonp",url:hq_queryUrl+"/v1/sh1/line/"+e,data:{begin:0,end:-1,select:"time,price,volume"},jsonp:"callback",cache:false,success:function(I){var r=I;var V=dateConvert({data:r,last:d,open:a});var U=V.line;if(U.length==0){$("#ticker01").html("<div class='chart_container'></div>");return}Highcharts.setOptions({global:{useUTC:false},lang:{loading:"\u52A0\u8F7D\u4E2D",months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],noData:"\u6CA1\u6709\u6570\u636E",numericSymbols:["\u5343","\u5146","G","T","P","E"],printChart:"\u6253\u5370\u56FE\u8868",resetZoom:"\u6062\u590D\u7F29\u653E",resetZoomTitle:"\u6062\u590D\u56FE\u8868",shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],thousandsSep:",",weekdays:["\u661F\u671F\u5929","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}});var s=[["minute",[1]]];var x;var j;var w;var h;var y;var o;var G="#ff0000";var v="#00a800";var D=[],z=[],P=0;var B=true;var q;if(U!=undefined&&U!=null&&U.length==0){try{failCallback()}catch(T){}return}var F=U[P][1];var m=V.prev_close;q=m;B=F>m?true:false;for(P;P<U.length;P+=1){var O=U[P][0]+"";var p=O.substring(8,10);var k=getDateUTCOrNot(O,true);var M=U[P][2];var L=G;if(P==0){if(B==false){L=v}x=U[P][1];
j=U[P][1];w=Number(100*(U[P][1]/q-1));h=Number(100*(U[P][1]/q-1));y=U[P][2];o=U[P][2]}else{if(U[P-1][1]-U[P][1]>0){L=v}}x=x>U[P][1]?U[P][1]:x;j=j>U[P][1]?j:U[P][1];w=w>Number(100*(U[P][1]/q-1))?Number(100*(U[P][1]/q-1)):w;h=h>Number(100*(U[P][1]/q-1))?h:Number(100*(U[P][1]/q-1));y=y>M?M:y;o=o>M?o:M;D.push({x:k,y:Number(U[P][1])});z.push({x:k,y:Number(M),color:L})}appendTimeMessage(D,z,U);Highcharts.setOptions({global:{useUTC:false}});var R;if(U.length>0){R=U[U.length-1][0]+"";var n=new Array();for(var W=0;W<5;W++){var g;if(W==0){g=Number(R.slice(0,4))}else{g=Number(R.slice((W-1)*2+4,W*2+4))}n.push(g)}}var N=new Date(n[0],n[1]-1,n[2],n[3],n[4]);var K=$("#report");K.html("");var A=new Date(N);A.setHours(1,30,0,0);var Q=convertDateToUTC(A);var H=new Date(N);H.setHours(2,30,0,0);var t=convertDateToUTC(H);var u=new Date(N);u.setHours(3,30,0,0);var J=convertDateToUTC(u);var E=new Date(N);E.setHours(5,1,0,0);var l=convertDateToUTC(E);var S=new Date(N);S.setHours(6,0,0,0);var X=convertDateToUTC(S);var f=new Date(N);f.setHours(7,0,0,0);var C=convertDateToUTC(f);$("#ticker01").highcharts("StockChart",{chart:{panning:false,zoomType:"none",pinchType:"none",renderTo:"line_map",margin:[10,57,20,1],spacing:[0,0,0,0],plotBorderColor:"#3C94C4",plotBorderWidth:0,events:{load:function(){var Y=$("#ticker01").highcharts();Y.yAxis[0].addPlotLine({value:q,width:2,color:"#CCC",zIndex:1,id:"plot-line-"})}}},tooltip:{shared:true,valueDecinale:2,useHTML:true,formatter:function(){var Z=e;var Y=Highcharts.dateFormat("%b%e\u65E5,%A,%H:%M",this.x);var aa=this.points[0].y.toFixed(2);return'<p style="margin:0px;padding:0px;font-size:14px;"><span>'+Z+'  </span><span style="'+Comparative(aa,b)+';">'+aa+'</span></p><p style="margin:0px;padding:0px;color:#999">'+Y+"</p>"}},plotOptions:{series:{animation:false}},rangeSelector:{enabled:false},exporting:{enabled:false},credits:{enabled:false},navigator:{enabled:false,baseseries:10},scrollbar:{enabled:false},scrollbar:{enabled:false},xAxis:{ordinal:false,breaks:[{breakSize:1,from:J,to:l}],showFirstLabel:true,showLastLabel:true,scrollbar:{enabled:true},labels:{style:{font:"normal 12px"},formatter:function(){var Y=Highcharts.dateFormat("%H:%M",this.value);if(Y=="09:30"){return'<span style="margin-left:33px;color:#aaa">09:30</span>'}if(Y=="11:30"){return'<span style="color:#aaa">11:30/13:00</span>'}if(Y=="10:30"){return""}if(Y=="14:00"){return""}if(Y=="15:00"){return'<span style="margin-right:35px;color:#aaa">15:00</span>'}return Y},y:15,step:1,useHTML:true},tickLength:5,tickPositioner:function(){var Y=[Q,t,J,X,C];return Y},gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",gridLineWidth:1},yAxis:[{opposite:true,labels:{enabled:false},title:{text:""},top:"0%",height:"100%",lineWidth:0,showFirstLabel:false,showLastLabel:false,gridLineWidth:0,x:0,y:0,tickPositioner:function(){positions=[],tick=Number(x),increment=Number((j-x)/3);var ab=Number(x),ad=Number(j);if(0==U.length){ab=0.99*q;ad=1.01*q}else{if(0==increment){if(q>Number(x)){ab=Number(x);ad=2*q-Number(x)}else{if(q<Number(x)){ad=Number(j);ab=q-(Number(j)-q)}else{ab=0.99*q;ad=1.01*q}}}else{if((x-q)<0&&(j-q)>0){var Z=Math.max(Math.abs(x-q),Math.abs(j-q));ab=q-Z;ad=q+Z}else{if(x>q&&j>q){ad=j;ab=q-(ad-q)}else{if(x<q&&j<q){ab=x;ad=q+(q-ab)}}}}}if(ad>(2*q)){ad=2*q;ab=0}var aa=Number(ad-q)/10;ad+=aa;ab=q-(ad-q);increment=(ad-q)/2;tick=ab;var ac=0;for(tick;ac++<5;tick+=increment){var Y=(Number(tick)).toFixed(2);positions.push(Y)}return positions}},{opposite:true,showFirstLabel:true,showLastLabel:true,labels:{enabled:true,overflow:"justify",style:{font:"normal 12px"},align:"right",x:55,y:6,formatter:function(){return'<span style="color:#aaa;">'+this.value+"</span>"}},useHTML:true,title:{text:""},lineWidth:1,top:"0%",height:"100%",gridLineWidth:1,gridLineDashStyle:"ShortDash",gridLineColor:"#f2f2f2",tickPositioner:function(){return positions}}],series:[{name:c,data:D,yAxis:0,dataGrouping:{units:s}},{name:c,data:D,type:"area",cursor:"pointer",onSeries:"candlestick",color:"transparent",style:{fontSize:"0px",fontWeight:"0",textAlign:"center"},zIndex:-1000,yAxis:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},dataGrouping:{units:s}}]})},error:function(f,h,g){}})}var pageNav=pageNav||{};pageNav.fn=null;pageNav.nav=function(g,b){if(b<=1){this.p=1;this.pn=1;return this.pHtml2(true,1)}if(b<g){g=b}var d="";if(g<=1){g=1}else{d+=this.pHtmlnp(g-1,b,"glyphicon glyphicon-menu-left");d+=this.pHtml(1,b,"1")}this.p=g;this.pn=b;var h=2;var a=(b<5)?b:5;if(g>=5){d+=this.pHtml2(false,"...");h=g-2;var f=g+2;a=(b<f)?b:f}for(var c=h;c<g;c++){d+=this.pHtml(c,b)}d+=this.pHtml2(true,g);for(var c=g+1;c<=a;c++){d+=this.pHtml(c,b)}if(a<b){d+=this.pHtml2(false,"...");d+=this.pHtml(b,b)}if(g<b){d+=this.pHtmlnp(g+1,b,"glyphicon glyphicon-menu-right")}return d};pageNav.pHtml=function(a,b,d){d=d||a;var c="<li><a href='javascript:;' ipn='"+a+"' page='"+b+"' >"+d+"</a></li>";
return c};pageNav.pHtml2=function(c,a){var b="";if(c){b="<li><a href='javascript:;' class='active' page='"+a+"'>"+a+"</a></li>"}else{b="<li><a href='javascript:;' class='disable'>"+a+"</a></li>"}return b};pageNav.pHtmlnp=function(a,b,d){var c="<li><a href='javascript:;' ipn='"+a+"' page='"+b+"' ><span aria-hidden='true' class='"+d+"'></span></a></li>";return c};pageNav.go=function(a){a.id.html(this.nav(a.p,a.pn));a.id.find("li a").click(function(){offsetTops(a.id.parent().parent().parent());if($(this).attr("ipn")!=null&&$(this).attr("page")!=null){pageNav.go({id:a.id,desc:a.desc,method:a.method,p:Number($(this).attr("ipn")),pn:Number($(this).attr("page"))});a.method(Number($(this).attr("ipn")),Number($(this).attr("page")))}});if(a.desc!=null){a.desc.html("\u5F53\u524D\u9875:"+a.p+"  ,  \u603B\u9875: "+a.pn)}};var $pages_index=0;var $pagesCount=0;$(function(){var a=$("#ticker01");if(a.length>0){if(checkBrowser()){hq_homeInit()}}var j=$(".cScshSearch");if(j.length>0){dataScsjSearchInit()}var l=$(".search_market_L");if(l.length>0){marketLineIni()}var n=$(".delayAjax_hq");if(n.length>0){delayInit()}var m=$("#tableData_etf_hq");if(m.length>0){etfHomeInit()}var k=$("#tableData_etf_iopv");if(k.length>0){etfIopvInit()}var b=$("#tableData_etf_list");if(b.length>0){hq_etfHqInit(1,10);$("#tableData_etf_list .mobile-page button").click(function(){offsetTops($("#tableData_etf_list"));if(!$(this).hasClass("next-page")){var p=$("#tableData_etf_list .pagination li:first a");if(typeof(p.attr("ipn"))!="undefined"){hq_etfHqInit(p.attr("ipn"),p.attr("page"));pageNav.go({id:$("#tableData_etf_list .pagination"),method:hq_etfHqInit,p:Number(p.attr("ipn")),pn:Number(p.attr("page"))})}}else{var q=$("#tableData_etf_list .pagination li:last a");if(typeof(q.attr("ipn"))!="undefined"){hq_etfHqInit(q.attr("ipn"),q.attr("page"));pageNav.go({id:$("#tableData_etf_list .pagination"),method:hq_etfHqInit,p:Number(q.attr("ipn")),pn:Number(q.attr("page"))})}}})}var c=$("#tableData_etf_listLab");if(c.length>0){hq_etflistLabInit()}var d=$("#tableData_qqhq_snapL");var h=$("#tableData_qqhq_listL");if(d.length>0||h.length>0){hq_yshqInit()}var f=$("#tableData_hq_lofjj");if(f.length>0){lofFjInit(1,10);$("#tableData_hq_lofjj .mobile-page button").click(function(){offsetTops($("#tableData_hq_lofjj"));if(!$(this).hasClass("next-page")){var p=$("#tableData_hq_lofjj .pagination li:first a");if(typeof(p.attr("ipn"))!="undefined"){lofFjInit(p.attr("ipn"),p.attr("page"));pageNav.go({id:$("#tableData_hq_lofjj .pagination"),method:lofFjInit,p:Number(p.attr("ipn")),pn:Number(p.attr("page"))})}}else{var q=$("#tableData_hq_lofjj .pagination li:last a");if(typeof(q.attr("ipn"))!="undefined"){lofFjInit(q.attr("ipn"),q.attr("page"));pageNav.go({id:$("#tableData_hq_lofjj .pagination"),method:lofFjInit,p:Number(q.attr("ipn")),pn:Number(q.attr("page"))})}}})}var g=$("#tableData_hq_lofKfs");if(g.length>0){lofKfsInit(1,10);$("#tableData_hq_lofKfs .mobile-page button").click(function(){offsetTops($("#tableData_hq_lofKfs"));if(!$(this).hasClass("next-page")){var p=$("#tableData_hq_lofKfs .pagination li:first a");if(typeof(p.attr("ipn"))!="undefined"){lofKfsInit(p.attr("ipn"),p.attr("page"));pageNav.go({id:$("#tableData_hq_lofKfs .pagination"),method:lofKfsInit,p:Number(p.attr("ipn")),pn:Number(p.attr("page"))})}}else{var q=$("#tableData_hq_lofKfs .pagination li:last a");if(typeof(q.attr("ipn"))!="undefined"){lofKfsInit(q.attr("ipn"),q.attr("page"));pageNav.go({id:$("#tableData_hq_lofKfs .pagination"),method:lofKfsInit,p:Number(q.attr("ipn")),pn:Number(q.attr("page"))})}}})}var o=$("#tableData_marketTabList");if(o.length>0){marketSearchInit()}var e=$("#tableData_ajaxGetMarketTabs");if(e.length>0){ajaxGetMarketTabsInit()}});
